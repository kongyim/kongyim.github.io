(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,88143,(e,t,s)=>{"use strict";function r({widthInt:e,heightInt:t,blurWidth:s,blurHeight:r,blurDataURL:l,objectFit:a}){let i=s?40*s:e,d=r?40*r:t,n=i&&d?`viewBox='0 0 ${i} ${d}'`:"";return`%3Csvg xmlns='http://www.w3.org/2000/svg' ${n}%3E%3Cfilter id='b' color-interpolation-filters='sRGB'%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3CfeColorMatrix values='1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 100 -1' result='s'/%3E%3CfeFlood x='0' y='0' width='100%25' height='100%25'/%3E%3CfeComposite operator='out' in='s'/%3E%3CfeComposite in2='SourceGraphic'/%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3C/filter%3E%3Cimage width='100%25' height='100%25' x='0' y='0' preserveAspectRatio='${n?"none":"contain"===a?"xMidYMid":"cover"===a?"xMidYMid slice":"none"}' style='filter: url(%23b);' href='${l}'/%3E%3C/svg%3E`}Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"getImageBlurSvg",{enumerable:!0,get:function(){return r}})},87690,(e,t,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0});var r={VALID_LOADERS:function(){return a},imageConfigDefault:function(){return i}};for(var l in r)Object.defineProperty(s,l,{enumerable:!0,get:r[l]});let a=["default","imgix","cloudinary","akamai","custom"],i={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[32,48,64,96,128,256,384],path:"/_next/image",loader:"default",loaderFile:"",domains:[],disableStaticImages:!1,minimumCacheTTL:14400,formats:["image/webp"],maximumRedirects:3,dangerouslyAllowLocalIP:!1,dangerouslyAllowSVG:!1,contentSecurityPolicy:"script-src 'none'; frame-src 'none'; sandbox;",contentDispositionType:"attachment",localPatterns:void 0,remotePatterns:[],qualities:[75],unoptimized:!1}},8927,(e,t,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"getImgProps",{enumerable:!0,get:function(){return n}}),e.r(33525);let r=e.r(88143),l=e.r(87690),a=["-moz-initial","fill","none","scale-down",void 0];function i(e){return void 0!==e.default}function d(e){return void 0===e?e:"number"==typeof e?Number.isFinite(e)?e:NaN:"string"==typeof e&&/^[0-9]+$/.test(e)?parseInt(e,10):NaN}function n({src:e,sizes:t,unoptimized:s=!1,priority:n=!1,preload:o=!1,loading:c,className:u,quality:x,width:m,height:h,fill:p=!1,style:f,overrideSrc:b,onLoad:g,onLoadingComplete:w,placeholder:v="empty",blurDataURL:j,fetchPriority:y,decoding:N="async",layout:k,objectFit:S,objectPosition:_,lazyBoundary:C,lazyRoot:P,...$},E){var O;let R,M,I,{imgConf:z,showAltText:F,blurComplete:A,defaultLoader:D}=E,T=z||l.imageConfigDefault;if("allSizes"in T)R=T;else{let e=[...T.deviceSizes,...T.imageSizes].sort((e,t)=>e-t),t=T.deviceSizes.sort((e,t)=>e-t),s=T.qualities?.sort((e,t)=>e-t);R={...T,allSizes:e,deviceSizes:t,qualities:s}}if(void 0===D)throw Object.defineProperty(Error("images.loaderFile detected but the file is missing default export.\nRead more: https://nextjs.org/docs/messages/invalid-images-config"),"__NEXT_ERROR_CODE",{value:"E163",enumerable:!1,configurable:!0});let H=$.loader||D;delete $.loader,delete $.srcSet;let B="__next_img_default"in H;if(B){if("custom"===R.loader)throw Object.defineProperty(Error(`Image with src "${e}" is missing "loader" prop.
Read more: https://nextjs.org/docs/messages/next-image-missing-loader`),"__NEXT_ERROR_CODE",{value:"E252",enumerable:!1,configurable:!0})}else{let e=H;H=t=>{let{config:s,...r}=t;return e(r)}}if(k){"fill"===k&&(p=!0);let e={intrinsic:{maxWidth:"100%",height:"auto"},responsive:{width:"100%",height:"auto"}}[k];e&&(f={...f,...e});let s={responsive:"100vw",fill:"100vw"}[k];s&&!t&&(t=s)}let V="",q=d(m),L=d(h);if((O=e)&&"object"==typeof O&&(i(O)||void 0!==O.src)){let t=i(e)?e.default:e;if(!t.src)throw Object.defineProperty(Error(`An object should only be passed to the image component src parameter if it comes from a static image import. It must include src. Received ${JSON.stringify(t)}`),"__NEXT_ERROR_CODE",{value:"E460",enumerable:!1,configurable:!0});if(!t.height||!t.width)throw Object.defineProperty(Error(`An object should only be passed to the image component src parameter if it comes from a static image import. It must include height and width. Received ${JSON.stringify(t)}`),"__NEXT_ERROR_CODE",{value:"E48",enumerable:!1,configurable:!0});if(M=t.blurWidth,I=t.blurHeight,j=j||t.blurDataURL,V=t.src,!p)if(q||L){if(q&&!L){let e=q/t.width;L=Math.round(t.height*e)}else if(!q&&L){let e=L/t.height;q=Math.round(t.width*e)}}else q=t.width,L=t.height}let U=!n&&!o&&("lazy"===c||void 0===c);(!(e="string"==typeof e?e:V)||e.startsWith("data:")||e.startsWith("blob:"))&&(s=!0,U=!1),R.unoptimized&&(s=!0),B&&!R.dangerouslyAllowSVG&&e.split("?",1)[0].endsWith(".svg")&&(s=!0);let W=d(x),Y=Object.assign(p?{position:"absolute",height:"100%",width:"100%",left:0,top:0,right:0,bottom:0,objectFit:S,objectPosition:_}:{},F?{}:{color:"transparent"},f),K=A||"empty"===v?null:"blur"===v?`url("data:image/svg+xml;charset=utf-8,${(0,r.getImageBlurSvg)({widthInt:q,heightInt:L,blurWidth:M,blurHeight:I,blurDataURL:j||"",objectFit:Y.objectFit})}")`:`url("${v}")`,G=a.includes(Y.objectFit)?"fill"===Y.objectFit?"100% 100%":"cover":Y.objectFit,J=K?{backgroundSize:G,backgroundPosition:Y.objectPosition||"50% 50%",backgroundRepeat:"no-repeat",backgroundImage:K}:{},X=function({config:e,src:t,unoptimized:s,width:r,quality:l,sizes:a,loader:i}){if(s)return{src:t,srcSet:void 0,sizes:void 0};let{widths:d,kind:n}=function({deviceSizes:e,allSizes:t},s,r){if(r){let s=/(^|\s)(1?\d?\d)vw/g,l=[];for(let e;e=s.exec(r);)l.push(parseInt(e[2]));if(l.length){let s=.01*Math.min(...l);return{widths:t.filter(t=>t>=e[0]*s),kind:"w"}}return{widths:t,kind:"w"}}return"number"!=typeof s?{widths:e,kind:"w"}:{widths:[...new Set([s,2*s].map(e=>t.find(t=>t>=e)||t[t.length-1]))],kind:"x"}}(e,r,a),o=d.length-1;return{sizes:a||"w"!==n?a:"100vw",srcSet:d.map((s,r)=>`${i({config:e,src:t,quality:l,width:s})} ${"w"===n?s:r+1}${n}`).join(", "),src:i({config:e,src:t,quality:l,width:d[o]})}}({config:R,src:e,unoptimized:s,width:q,quality:W,sizes:t,loader:H}),Q=U?"lazy":c;return{props:{...$,loading:Q,fetchPriority:y,width:q,height:L,decoding:N,className:u,style:{...Y,...J},sizes:X.sizes,srcSet:X.srcSet,src:b||X.src},meta:{unoptimized:s,preload:o||n,placeholder:v,fill:p}}}},98879,(e,t,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"default",{enumerable:!0,get:function(){return d}});let r=e.r(71645),l="undefined"==typeof window,a=l?()=>{}:r.useLayoutEffect,i=l?()=>{}:r.useEffect;function d(e){let{headManager:t,reduceComponentsToState:s}=e;function d(){if(t&&t.mountedInstances){let e=r.Children.toArray(Array.from(t.mountedInstances).filter(Boolean));t.updateHead(s(e))}}return l&&(t?.mountedInstances?.add(e.children),d()),a(()=>(t?.mountedInstances?.add(e.children),()=>{t?.mountedInstances?.delete(e.children)})),a(()=>(t&&(t._pendingUpdate=d),()=>{t&&(t._pendingUpdate=d)})),i(()=>(t&&t._pendingUpdate&&(t._pendingUpdate(),t._pendingUpdate=null),()=>{t&&t._pendingUpdate&&(t._pendingUpdate(),t._pendingUpdate=null)})),null}},25633,(e,t,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0});var r={default:function(){return p},defaultHead:function(){return u}};for(var l in r)Object.defineProperty(s,l,{enumerable:!0,get:r[l]});let a=e.r(55682),i=e.r(90809),d=e.r(43476),n=i._(e.r(71645)),o=a._(e.r(98879)),c=e.r(42732);function u(){return[(0,d.jsx)("meta",{charSet:"utf-8"},"charset"),(0,d.jsx)("meta",{name:"viewport",content:"width=device-width"},"viewport")]}function x(e,t){return"string"==typeof t||"number"==typeof t?e:t.type===n.default.Fragment?e.concat(n.default.Children.toArray(t.props.children).reduce((e,t)=>"string"==typeof t||"number"==typeof t?e:e.concat(t),[])):e.concat(t)}e.r(33525);let m=["name","httpEquiv","charSet","itemProp"];function h(e){let t,s,r,l;return e.reduce(x,[]).reverse().concat(u().reverse()).filter((t=new Set,s=new Set,r=new Set,l={},e=>{let a=!0,i=!1;if(e.key&&"number"!=typeof e.key&&e.key.indexOf("$")>0){i=!0;let s=e.key.slice(e.key.indexOf("$")+1);t.has(s)?a=!1:t.add(s)}switch(e.type){case"title":case"base":s.has(e.type)?a=!1:s.add(e.type);break;case"meta":for(let t=0,s=m.length;t<s;t++){let s=m[t];if(e.props.hasOwnProperty(s))if("charSet"===s)r.has(s)?a=!1:r.add(s);else{let t=e.props[s],r=l[s]||new Set;("name"!==s||!i)&&r.has(t)?a=!1:(r.add(t),l[s]=r)}}}return a})).reverse().map((e,t)=>{let s=e.key||t;return n.default.cloneElement(e,{key:s})})}let p=function({children:e}){let t=(0,n.useContext)(c.HeadManagerContext);return(0,d.jsx)(o.default,{reduceComponentsToState:h,headManager:t,children:e})};("function"==typeof s.default||"object"==typeof s.default&&null!==s.default)&&void 0===s.default.__esModule&&(Object.defineProperty(s.default,"__esModule",{value:!0}),Object.assign(s.default,s),t.exports=s.default)},18556,(e,t,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"ImageConfigContext",{enumerable:!0,get:function(){return a}});let r=e.r(55682)._(e.r(71645)),l=e.r(87690),a=r.default.createContext(l.imageConfigDefault)},65856,(e,t,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"RouterContext",{enumerable:!0,get:function(){return r}});let r=e.r(55682)._(e.r(71645)).default.createContext(null)},70965,(e,t,s)=>{"use strict";function r(e,t){let s=e||75;return t?.qualities?.length?t.qualities.reduce((e,t)=>Math.abs(t-s)<Math.abs(e-s)?t:e,0):s}Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"findClosestQuality",{enumerable:!0,get:function(){return r}})},1948,(e,t,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"default",{enumerable:!0,get:function(){return a}});let r=e.r(70965);function l({config:e,src:t,width:s,quality:l}){if(t.startsWith("/")&&t.includes("?")&&e.localPatterns?.length===1&&"**"===e.localPatterns[0].pathname&&""===e.localPatterns[0].search)throw Object.defineProperty(Error(`Image with src "${t}" is using a query string which is not configured in images.localPatterns.
Read more: https://nextjs.org/docs/messages/next-image-unconfigured-localpatterns`),"__NEXT_ERROR_CODE",{value:"E871",enumerable:!1,configurable:!0});let a=(0,r.findClosestQuality)(l,e);return`${e.path}?url=${encodeURIComponent(t)}&w=${s}&q=${a}${t.startsWith("/_next/static/media/"),""}`}l.__next_img_default=!0;let a=l},18581,(e,t,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"useMergedRef",{enumerable:!0,get:function(){return l}});let r=e.r(71645);function l(e,t){let s=(0,r.useRef)(null),l=(0,r.useRef)(null);return(0,r.useCallback)(r=>{if(null===r){let e=s.current;e&&(s.current=null,e());let t=l.current;t&&(l.current=null,t())}else e&&(s.current=a(e,r)),t&&(l.current=a(t,r))},[e,t])}function a(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let s=e(t);return"function"==typeof s?s:()=>e(null)}}("function"==typeof s.default||"object"==typeof s.default&&null!==s.default)&&void 0===s.default.__esModule&&(Object.defineProperty(s.default,"__esModule",{value:!0}),Object.assign(s.default,s),t.exports=s.default)},5500,(e,t,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"Image",{enumerable:!0,get:function(){return v}});let r=e.r(55682),l=e.r(90809),a=e.r(43476),i=l._(e.r(71645)),d=r._(e.r(74080)),n=r._(e.r(25633)),o=e.r(8927),c=e.r(87690),u=e.r(18556);e.r(33525);let x=e.r(65856),m=r._(e.r(1948)),h=e.r(18581),p={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[32,48,64,96,128,256,384],qualities:[75],path:"/_next/image/",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!0};function f(e,t,s,r,l,a,i){let d=e?.src;e&&e["data-loaded-src"]!==d&&(e["data-loaded-src"]=d,("decode"in e?e.decode():Promise.resolve()).catch(()=>{}).then(()=>{if(e.parentElement&&e.isConnected){if("empty"!==t&&l(!0),s?.current){let t=new Event("load");Object.defineProperty(t,"target",{writable:!1,value:e});let r=!1,l=!1;s.current({...t,nativeEvent:t,currentTarget:e,target:e,isDefaultPrevented:()=>r,isPropagationStopped:()=>l,persist:()=>{},preventDefault:()=>{r=!0,t.preventDefault()},stopPropagation:()=>{l=!0,t.stopPropagation()}})}r?.current&&r.current(e)}}))}function b(e){return i.use?{fetchPriority:e}:{fetchpriority:e}}"undefined"==typeof window&&(globalThis.__NEXT_IMAGE_IMPORTED=!0);let g=(0,i.forwardRef)(({src:e,srcSet:t,sizes:s,height:r,width:l,decoding:d,className:n,style:o,fetchPriority:c,placeholder:u,loading:x,unoptimized:m,fill:p,onLoadRef:g,onLoadingCompleteRef:w,setBlurComplete:v,setShowAltText:j,sizesInput:y,onLoad:N,onError:k,...S},_)=>{let C=(0,i.useCallback)(e=>{e&&(k&&(e.src=e.src),e.complete&&f(e,u,g,w,v,m,y))},[e,u,g,w,v,k,m,y]),P=(0,h.useMergedRef)(_,C);return(0,a.jsx)("img",{...S,...b(c),loading:x,width:l,height:r,decoding:d,"data-nimg":p?"fill":"1",className:n,style:o,sizes:s,srcSet:t,src:e,ref:P,onLoad:e=>{f(e.currentTarget,u,g,w,v,m,y)},onError:e=>{j(!0),"empty"!==u&&v(!0),k&&k(e)}})});function w({isAppRouter:e,imgAttributes:t}){let s={as:"image",imageSrcSet:t.srcSet,imageSizes:t.sizes,crossOrigin:t.crossOrigin,referrerPolicy:t.referrerPolicy,...b(t.fetchPriority)};return e&&d.default.preload?(d.default.preload(t.src,s),null):(0,a.jsx)(n.default,{children:(0,a.jsx)("link",{rel:"preload",href:t.srcSet?void 0:t.src,...s},"__nimg-"+t.src+t.srcSet+t.sizes)})}let v=(0,i.forwardRef)((e,t)=>{let s=(0,i.useContext)(x.RouterContext),r=(0,i.useContext)(u.ImageConfigContext),l=(0,i.useMemo)(()=>{let e=p||r||c.imageConfigDefault,t=[...e.deviceSizes,...e.imageSizes].sort((e,t)=>e-t),s=e.deviceSizes.sort((e,t)=>e-t),l=e.qualities?.sort((e,t)=>e-t);return{...e,allSizes:t,deviceSizes:s,qualities:l,localPatterns:"undefined"==typeof window?r?.localPatterns:e.localPatterns}},[r]),{onLoad:d,onLoadingComplete:n}=e,h=(0,i.useRef)(d);(0,i.useEffect)(()=>{h.current=d},[d]);let f=(0,i.useRef)(n);(0,i.useEffect)(()=>{f.current=n},[n]);let[b,v]=(0,i.useState)(!1),[j,y]=(0,i.useState)(!1),{props:N,meta:k}=(0,o.getImgProps)(e,{defaultLoader:m.default,imgConf:l,blurComplete:b,showAltText:j});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(g,{...N,unoptimized:k.unoptimized,placeholder:k.placeholder,fill:k.fill,onLoadRef:h,onLoadingCompleteRef:f,setBlurComplete:v,setShowAltText:y,sizesInput:e.sizes,ref:t}),k.preload?(0,a.jsx)(w,{isAppRouter:!s,imgAttributes:N}):null]})});("function"==typeof s.default||"object"==typeof s.default&&null!==s.default)&&void 0===s.default.__esModule&&(Object.defineProperty(s.default,"__esModule",{value:!0}),Object.assign(s.default,s),t.exports=s.default)},94909,(e,t,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0});var r={default:function(){return c},getImageProps:function(){return o}};for(var l in r)Object.defineProperty(s,l,{enumerable:!0,get:r[l]});let a=e.r(55682),i=e.r(8927),d=e.r(5500),n=a._(e.r(1948));function o(e){let{props:t}=(0,i.getImgProps)(e,{defaultLoader:n.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[32,48,64,96,128,256,384],qualities:[75],path:"/_next/image/",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!0}});for(let[e,s]of Object.entries(t))void 0===s&&delete t[e];return{props:t}}let c=d.Image},57688,(e,t,s)=>{t.exports=e.r(94909)},52683,e=>{"use strict";var t=e.i(43476),s=e.i(57688),r=e.i(71645);let l=[{label:"A",value:1,order:1},{label:"2",value:2,order:2},{label:"3",value:3,order:3},{label:"4",value:4,order:4},{label:"5",value:5,order:5},{label:"6",value:6,order:6},{label:"7",value:7,order:7},{label:"8",value:8,order:8},{label:"9",value:9,order:9},{label:"10",value:10,order:10},{label:"J",value:10,order:11},{label:"Q",value:10,order:12},{label:"K",value:10,order:13}],a=["♠","♥","♦","♣"],i={"♠":{name:"Spades",slug:"spades",color:"text-slate-200"},"♥":{name:"Hearts",slug:"hearts",color:"text-red-200"},"♦":{name:"Diamonds",slug:"diamonds",color:"text-rose-200"},"♣":{name:"Clubs",slug:"clubs",color:"text-emerald-200"}},d={"♠":0,"♥":1,"♦":2,"♣":3},n=l.flatMap(e=>a.map(t=>({rank:e.label,value:e.value,order:e.order,suit:t,id:`${e.label}${t}`})));function o(e){return`${e.rank}${e.suit}`}let c={A:"ace",J:"jack",Q:"queen",K:"king",10:"10",9:"9",8:"8",7:"7",6:"6",5:"5",4:"4",3:"3",2:"2"};function u(e,t){let s=i[e.suit].slug,r=c[e.rank]??e.rank.toLowerCase(),l=["J","Q","K"].includes(e.rank);return`./cards/${r}_of_${s}${l&&"original"===t?"2":""}.svg`}function x(e,t){let s,r,a,i,d,n,c,u=[...e,t],x=[(s=[],r=[],!function e(t){r.length&&s.push([...r]);for(let s=t;s<u.length;s+=1)r.push(u[s]),e(s+1),r.pop()}(0),a=[],s.forEach(e=>{15===e.reduce((e,t)=>e+t.value,0)&&e.length>=2&&a.push(`${e.map(o).join(" + ")} = 15`)}),{label:"Fifteens",points:2*a.length,detail:a.length?a.map(e=>`${e} (2 pts)`):["No combinations totaled 15."]}),(i=u.reduce((e,t)=>(e[t.rank]=(e[t.rank]??0)+1,e),{}),d=[],n=0,Object.entries(i).forEach(([e,t])=>{if(t>=2){let s=t*(t-1)/2,r=2===t?"Pair":`${t} of a kind`;d.push(`${r} of ${e}s → ${2*s} pts`),n+=2*s}}),d.length||d.push("No pairs."),{label:"Pairs",points:n,detail:d}),function(e){let t=e.reduce((e,t)=>(e[t.order]=(e[t.order]??0)+1,e),{}),s=0,r=0,a=[],i=1;for(;i<=13;){if(!t[i]){i+=1;continue}let e=i,d=1;for(;t[e];)d*=t[e],e+=1;let n=e-i;if(n>=3){let e=Array.from({length:n},(e,t)=>i+t).map(e=>{let t=l.find(t=>t.order===e);return t?.label??e.toString()}).join("-"),t=n*d;n>s?(s=n,r=t,a.length=0,a.push(`Run of ${n} (${e}) \xd7${d} = ${t} pts`)):n===s&&(r+=t,a.push(`Run of ${n} (${e}) \xd7${d} = ${t} pts`))}i=e+1}return a.length||a.push("No runs (need 3+ consecutive ranks)."),{label:"Runs",points:r,detail:a}}(u),function(e,t){if(!e.every(t=>t.suit===e[0].suit))return{label:"Flush",points:0,detail:["No flush (all 4 hand cards must share a suit)."]};let s=t.suit===e[0].suit;return{label:"Flush",points:s?5:4,detail:[s?"5-card flush (hand + starter) = 5 pts":"4-card flush (hand only) = 4 pts"]}}(e,t),{label:"His Nobs",points:+!!(c=e.find(e=>"J"===e.rank&&e.suit===t.suit)),detail:c?[`Jack of ${t.suit} in hand matches starter suit = 1 pt`]:["No matching Jack for starter suit."]}];return{total:x.reduce((e,t)=>e+t.points,0),parts:x}}function m(e,t){if(!t.length)return{average:0,best:[]};let s=t.map(t=>({card:t,score:x(e,t).total})),r=s.reduce((e,t)=>e+t.score,0),l=[...s].sort((e,t)=>t.score-e.score).slice(0,3);return{average:r/s.length,best:l}}function h(e,t,s){if(!t.length)return 0;let r=0,l=0;for(let a=0;a<t.length;a+=1){let i=t[a];for(let d=a+1;d<t.length;d+=1){let n=t[d];if(s||"5"!==i.rank&&"5"!==n.rank&&i.rank!==n.rank)for(let s=0;s<t.length;s+=1)s!==a&&s!==d&&(r+=x([...e,i,n],t[s]).total,l+=1)}}return l?r/l:0}function p(e,t,s){let r,l;if(6!==e.length)return[];let a=n.filter(t=>!e.some(e=>e.id===t.id));return(r=[],l=[],!function t(s,a){if(4===a)return void r.push([...l]);for(let r=s;r<e.length;r+=1)l.push(e[r]),t(r+1,a+1),l.pop()}(0,0),r).map(r=>{let l=e.filter(e=>!r.some(t=>t.id===e.id)),{average:i,best:d}=m(r,a),n=s?h(l,a,t):0,o=s?t?i+n:i-n:i;return{keep:r,discards:l,handAverage:i,cribAverage:n,expectedValue:o,bestStarters:d}}).sort((e,t)=>t.expectedValue-e.expectedValue).slice(0,3)}function f(e){return[...e].sort((e,t)=>e.order!==t.order?e.order-t.order:d[e.suit]-d[t.suit])}let b="cribbage-active-tab",g="cribbage-is-dealer",w="cribbage-include-crib",v="cribbage-test-is-dealer",j="cribbage-test-include-crib",y="cribbage-face-style";function N(){let[e,l]=(0,r.useState)("count"),[i,d]=(0,r.useState)([]),[c,N]=(0,r.useState)(null),[k,S]=(0,r.useState)(null),[_,C]=(0,r.useState)([]),[P,$]=(0,r.useState)(null),[E,O]=(0,r.useState)(!0),[R,M]=(0,r.useState)(!0),[I,z]=(0,r.useState)([]),[F,A]=(0,r.useState)([]),[D,T]=(0,r.useState)(null),[H,B]=(0,r.useState)(!0),[V,q]=(0,r.useState)(!0),[L,U]=(0,r.useState)(!1),[W,Y]=(0,r.useState)("original"),K=(0,r.useRef)(null),G=(0,r.useRef)(!1),J=(0,r.useMemo)(()=>new Set([c,...i].filter(Boolean).map(e=>e.id)),[i,c]),X=(0,r.useMemo)(()=>new Set(F.map(e=>e.id)),[F]),Q=(0,r.useMemo)(()=>new Set(_.map(e=>e.id)),[_]),Z=(0,r.useMemo)(()=>a.map(e=>({suit:e,cards:n.filter(t=>t.suit===e)})),[]),ee=(0,r.useMemo)(()=>4===i.length&&c?x(i,c):null,[i,c]),et=(0,r.useMemo)(()=>p(_,E,R),[_,R,E]),es=(0,r.useMemo)(()=>6===I.length?p(I,H,V)[0]:null,[I,V,H]),er=(0,r.useMemo)(()=>{if(6!==I.length||2!==F.length)return null;let e=I.filter(e=>!F.some(t=>t.id===e.id)),t=n.filter(e=>!I.some(t=>t.id===e.id)),{average:s,best:r}=m(e,t),l=V?h(F,t,H):0,a=V?H?s+l:s-l:s;return{keep:e,discards:F,handAverage:s,cribAverage:l,expectedValue:a,bestStarters:r}},[I,F,V,H]),el=4===i.length&&c;(0,r.useEffect)(()=>{el&&!G.current&&(K.current?.scrollIntoView({behavior:"smooth",block:"start"}),G.current=!0),el||(G.current=!1)},[el]);let ea=e=>{if(S(null),J.has(e.id)){d(t=>t.filter(t=>t.id!==e.id)),N(t=>t?.id===e.id?null:t);return}i.length<4?d(t=>[...t,e]):c?S("You already picked 4 hand cards and a starter. Remove one to change."):N(e)},ei=e=>{($(null),Q.has(e.id))?C(t=>t.filter(t=>t.id!==e.id)):_.length<6?C(t=>[...t,e]):$("You already picked 6 cards. Remove one to change the set.")},ed=(0,r.useCallback)(()=>{let e=[...n];for(let t=e.length-1;t>0;t-=1){let s=Math.floor(Math.random()*(t+1));[e[t],e[s]]=[e[s],e[t]]}return e.slice(0,6)},[]),en=(0,r.useCallback)(()=>{z(f(ed())),A([]),T(null),U(!1)},[ed]);(0,r.useEffect)(()=>{let e=localStorage.getItem(b);("count"===e||"discard"===e||"test"===e)&&l(e);let t=localStorage.getItem(g);("true"===t||"false"===t)&&O("true"===t);let s=localStorage.getItem(w);("true"===s||"false"===s)&&M("true"===s);let r=localStorage.getItem(v);("true"===r||"false"===r)&&B("true"===r);let a=localStorage.getItem(j);("true"===a||"false"===a)&&q("true"===a);let i=localStorage.getItem(y);("simple"===i||"original"===i)&&Y(i)},[]),(0,r.useEffect)(()=>{localStorage.setItem(b,e)},[e]),(0,r.useEffect)(()=>{localStorage.setItem(g,String(E))},[E]),(0,r.useEffect)(()=>{localStorage.setItem(w,String(R))},[R]),(0,r.useEffect)(()=>{localStorage.setItem(v,String(H))},[H]),(0,r.useEffect)(()=>{localStorage.setItem(j,String(V))},[V]),(0,r.useEffect)(()=>{localStorage.setItem(y,W)},[W]),(0,r.useEffect)(()=>{"test"===e&&0===I.length&&en()},[e,en,I.length]);let eo=(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-2 text-xs",children:[(0,t.jsx)("span",{className:"text-slate-300",children:"Face style"}),(0,t.jsx)("div",{className:"flex overflow-hidden rounded-full border border-white/10 bg-white/10",children:["simple","original"].map(e=>(0,t.jsx)("button",{onClick:()=>Y(e),className:`px-3 py-1 font-semibold transition ${W===e?"bg-white/20 text-white":"text-slate-200 hover:bg-white/10"}`,children:"simple"===e?"Simple":"Original"},e))})]});return(0,t.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-slate-950 via-slate-900 to-slate-950 text-slate-50",children:(0,t.jsxs)("div",{className:"mx-auto max-w-6xl px-6 py-10 space-y-6",children:[(0,t.jsxs)("header",{className:"flex flex-col gap-3 border-b border-white/10 pb-6 sm:flex-row sm:items-end sm:justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm uppercase tracking-[0.3em] text-slate-400",children:"Cribbage helper"}),(0,t.jsx)("h1",{className:"text-4xl font-bold text-white sm:text-5xl",children:"Play faster, score smarter"}),(0,t.jsx)("p",{className:"mt-2 max-w-3xl text-sm text-slate-300",children:"Flip between counting a finished hand or plotting the best discard. Every result shows the math so you can trust the suggestion."})]}),(0,t.jsxs)("div",{className:"flex flex-col items-start gap-3 sm:items-end",children:[(0,t.jsxs)("div",{className:"flex overflow-hidden rounded-full border border-white/15 bg-white/10 text-xs font-semibold text-white shadow-lg shadow-slate-950/30",children:[(0,t.jsx)("button",{onClick:()=>l("count"),className:`px-3 py-2 transition ${"count"===e?"bg-white/20":"hover:bg-white/10"}`,children:"Count a hand"}),(0,t.jsx)("button",{onClick:()=>l("discard"),className:`px-3 py-2 transition ${"discard"===e?"bg-white/20":"hover:bg-white/10"}`,children:"Discard to crib"}),(0,t.jsx)("button",{onClick:()=>{l("test"),I.length||en()},className:`px-3 py-2 transition ${"test"===e?"bg-white/20":"hover:bg-white/10"}`,children:"Test yourself"})]}),(0,t.jsx)("button",{onClick:"count"===e?()=>{d([]),N(null),S(null)}:"discard"===e?()=>{C([]),$(null)}:en,className:"inline-flex items-center justify-center rounded-full border border-white/15 bg-white/10 px-4 py-2 text-sm font-semibold text-white shadow-lg shadow-slate-950/30 transition hover:-translate-y-[1px] hover:bg-white/20 hover:shadow-slate-900/50",children:"Reset selection"})]})]}),"count"===e&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-4 shadow-lg shadow-slate-950/50 backdrop-blur",children:[(0,t.jsxs)("div",{className:"mb-4 flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-white",children:"Full deck"}),(0,t.jsxs)("p",{className:"text-xs text-slate-300",children:[J.size,"/5 selected"]})]}),eo]}),(0,t.jsx)("div",{className:"grid grid-cols-4 gap-1 sm:grid-cols-4 lg:grid-cols-1",children:Z.map(({suit:e,cards:r})=>(0,t.jsx)("div",{children:(0,t.jsx)("div",{className:"grid grid-cols-1 gap-1 lg:grid-cols-13",children:r.map(e=>{let r=i.some(t=>t.id===e.id),l=c?.id===e.id,a=r||l;return(0,t.jsxs)("button",{onClick:()=>ea(e),className:`group relative overflow-hidden rounded-xl border bg-white/90 p-1 text-left shadow-sm shadow-black/25 transition duration-150 hover:-translate-y-0.5 hover:shadow-lg hover:shadow-black/40 ${a?"border-lime-200 ring-2 ring-lime-300":"border-slate-200/70"}`,children:[(0,t.jsx)("div",{className:"relative aspect-[63/88] w-full overflow-hidden rounded-lg bg-gradient-to-br from-white to-slate-50",children:(0,t.jsx)(s.default,{src:u(e,W),alt:o(e),fill:!0,sizes:"(min-width:1024px) 90px, (min-width:640px) 16vw, 22vw",className:"object-contain drop-shadow-sm"})}),(0,t.jsx)("div",{className:"pointer-events-none absolute inset-0 rounded-xl border border-white/50"}),(0,t.jsxs)("div",{className:"absolute bottom-2 left-2 flex flex-wrap gap-1 text-[10px] font-semibold text-slate-800 drop-shadow",children:[r&&(0,t.jsx)("span",{className:"rounded-full bg-emerald-500/90 px-2 py-0.5 text-white shadow",children:"Hand"}),l&&(0,t.jsx)("span",{className:"rounded-full bg-amber-400/90 px-2 py-0.5 text-amber-950 shadow",children:"Starter"}),!a&&(0,t.jsx)("span",{className:"rounded-full bg-slate-100/90 px-2 py-0.5 text-slate-700 shadow",children:"Add"})]})]},e.id)})})},e))})]}),(0,t.jsxs)("section",{className:"mt-6 grid gap-6 lg:grid-cols-[1.1fr,0.9fr]",children:[(0,t.jsx)("div",{className:"space-y-4",children:(0,t.jsxs)("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-4 shadow-lg shadow-slate-950/50 backdrop-blur",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-white",children:"Your picks"}),(0,t.jsx)("p",{className:"text-sm text-slate-300",children:"Click a card to add it. Click again to remove. The first 4 go to your hand, then the starter."})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 rounded-full border border-emerald-400/30 bg-emerald-500/10 px-3 py-1 text-xs font-semibold uppercase tracking-wide text-emerald-200",children:[(0,t.jsx)("span",{className:"h-2 w-2 rounded-full bg-emerald-400"}),"Hand"]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 rounded-full border border-amber-400/30 bg-amber-500/10 px-3 py-1 text-xs font-semibold uppercase tracking-wide text-amber-200",children:[(0,t.jsx)("span",{className:"h-2 w-2 rounded-full bg-amber-400"}),"Starter"]})]})]}),(0,t.jsxs)("div",{ref:K,className:"mt-4 grid grid-cols-4 gap-1 sm:grid-cols-5",children:[Array.from({length:4}).map((e,r)=>(0,t.jsxs)("button",{type:"button",onClick:()=>i[r]&&ea(i[r]),className:"rounded-xl border border-emerald-300/20 bg-emerald-500/10 px-2 py-2 text-center text-sm text-emerald-100 shadow-inner shadow-emerald-900/50 transition hover:border-emerald-200/60 hover:shadow-lg hover:shadow-emerald-900/40 disabled:cursor-default",disabled:!i[r],children:[(0,t.jsxs)("div",{className:"text-xs uppercase tracking-wide text-emerald-200",children:["Hand ",r+1]}),(0,t.jsx)("div",{className:"mt-2",children:(0,t.jsx)("div",{className:"relative aspect-[63/88] w-full overflow-hidden rounded-lg border border-emerald-200/40 bg-white/90 shadow",children:i[r]?(0,t.jsx)(s.default,{src:u(i[r],W),alt:o(i[r]),fill:!0,sizes:"120px",className:"object-contain p-1",priority:!0}):(0,t.jsx)("div",{className:"flex h-full items-center justify-center text-lg font-semibold text-emerald-200",children:"—"})})})]},`hand-${r}`)),(0,t.jsxs)("button",{type:"button",onClick:()=>c&&ea(c),className:"rounded-xl border border-amber-300/30 bg-amber-500/10 px-3 py-4 text-center text-sm text-amber-100 shadow-inner shadow-amber-900/40 transition hover:border-amber-200/60 hover:shadow-lg hover:shadow-amber-900/30 disabled:cursor-default",disabled:!c,children:[(0,t.jsx)("div",{className:"text-xs uppercase tracking-wide text-amber-200",children:"Starter"}),(0,t.jsx)("div",{className:"mt-2",children:(0,t.jsx)("div",{className:"relative aspect-[63/88] w-full overflow-hidden rounded-lg border border-amber-200/40 bg-white/90 shadow",children:c?(0,t.jsx)(s.default,{src:u(c,W),alt:o(c),fill:!0,sizes:"120px",className:"object-contain p-1",priority:!0}):(0,t.jsx)("div",{className:"flex h-full items-center justify-center text-lg font-semibold text-amber-200",children:"—"})})})]})]}),k&&(0,t.jsx)("p",{className:"mt-3 text-sm text-amber-200",children:k})]})}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"rounded-2xl border border-lime-300/20 bg-lime-500/5 p-5 shadow-xl shadow-black/40 backdrop-blur",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-white",children:"Score"}),(0,t.jsx)("p",{className:"text-sm text-slate-300",children:"Totals refresh as soon as you finish the hand."})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("div",{className:"text-xs uppercase tracking-wide text-lime-300",children:"Total"}),(0,t.jsx)("div",{className:"text-4xl font-black text-lime-200",children:ee?ee.total:"—"})]})]}),!el&&(0,t.jsx)("p",{className:"mt-3 rounded-lg border border-white/10 bg-white/5 px-3 py-2 text-sm text-slate-200",children:"Pick 4 hand cards and 1 starter to see the breakdown."}),ee&&(0,t.jsx)("div",{className:"mt-4 space-y-3",children:ee.parts.map(e=>(0,t.jsxs)("div",{className:"rounded-xl border border-white/10 bg-white/5 px-3 py-3",children:[(0,t.jsxs)("div",{className:"mb-1 flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-sm font-semibold text-white",children:e.label}),(0,t.jsxs)("span",{className:"text-sm font-semibold text-lime-200",children:[e.points," pts"]})]}),(0,t.jsx)("ul",{className:"space-y-1 text-sm text-slate-200",children:e.detail.map((e,s)=>(0,t.jsxs)("li",{className:"flex gap-2",children:[(0,t.jsx)("span",{className:"mt-1 h-1.5 w-1.5 rounded-full bg-white/70"}),(0,t.jsx)("span",{children:e})]},s))})]},e.label))})]}),(0,t.jsxs)("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-4 text-sm text-slate-200 shadow-lg shadow-black/40",children:[(0,t.jsx)("h3",{className:"text-base font-semibold text-white",children:"How scoring works"}),(0,t.jsxs)("ul",{className:"mt-2 space-y-1",children:[(0,t.jsx)("li",{children:"• Fifteens: every unique combo totaling 15 is worth 2."}),(0,t.jsx)("li",{children:"• Pairs: each pair scores 2 (pairs of a kind stack)."}),(0,t.jsx)("li",{children:"• Runs: longest run of 3+ in the hand; duplicates multiply runs."}),(0,t.jsx)("li",{children:"• Flush: 4 hand cards same suit = 4; starter match makes 5."}),(0,t.jsx)("li",{children:"• His Nobs: Jack in hand matching the starter suit = 1."})]})]})]})]})]}),"discard"===e&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-4 shadow-lg shadow-slate-950/50 backdrop-blur",children:[(0,t.jsxs)("div",{className:"mb-4 flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-white",children:"Pick any 6 cards"}),(0,t.jsxs)("p",{className:"text-xs text-slate-300",children:[Q.size,"/6 selected"]})]}),eo]}),(0,t.jsx)("div",{className:"grid grid-cols-4 gap-1 sm:grid-cols-4 lg:grid-cols-1",children:Z.map(({suit:e,cards:r})=>(0,t.jsx)("div",{children:(0,t.jsx)("div",{className:"grid grid-cols-1 gap-1 lg:grid-cols-13",children:r.map(e=>{let r=Q.has(e.id);return(0,t.jsxs)("button",{onClick:()=>ei(e),className:`group relative overflow-hidden rounded-xl border bg-white/90 p-1 text-left shadow-sm shadow-black/25 transition duration-150 hover:-translate-y-0.5 hover:shadow-lg hover:shadow-black/40 ${r?"border-sky-200 ring-2 ring-sky-300":"border-slate-200/70"}`,children:[(0,t.jsx)("div",{className:"relative aspect-[63/88] w-full overflow-hidden rounded-lg bg-gradient-to-br from-white to-slate-50",children:(0,t.jsx)(s.default,{src:u(e,W),alt:o(e),fill:!0,sizes:"(min-width:1024px) 90px, (min-width:640px) 16vw, 22vw",className:"object-contain drop-shadow-sm"})}),(0,t.jsx)("div",{className:"pointer-events-none absolute inset-0 rounded-xl border border-white/50"}),(0,t.jsx)("div",{className:"absolute bottom-2 left-2 flex flex-wrap gap-1 text-[10px] font-semibold text-slate-800 drop-shadow",children:r?(0,t.jsx)("span",{className:"rounded-full bg-sky-500/90 px-2 py-0.5 text-white shadow",children:"Picked"}):(0,t.jsx)("span",{className:"rounded-full bg-slate-100/90 px-2 py-0.5 text-slate-700 shadow",children:"Add"})})]},e.id)})})},e))})]}),(0,t.jsxs)("section",{className:"mt-6 space-y-6",children:[(0,t.jsxs)("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-5 shadow-lg shadow-slate-950/50 backdrop-blur",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-white",children:"Your six-card hand"}),(0,t.jsx)("p",{className:"text-sm text-slate-300",children:"Click to add, click again to remove. We will try every possible discard to find the best expected value."})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-2 sm:items-end",children:[(0,t.jsxs)("div",{className:"flex overflow-hidden rounded-full border border-white/10 bg-white/10 text-xs font-semibold text-white",children:[(0,t.jsx)("button",{onClick:()=>O(!0),className:`px-3 py-1.5 transition ${E?"bg-white/20":"hover:bg-white/10"}`,children:"You are dealer"}),(0,t.jsx)("button",{onClick:()=>O(!1),className:`px-3 py-1.5 transition ${!E?"bg-white/20":"hover:bg-white/10"}`,children:"Opponent is dealer"})]}),(0,t.jsxs)("label",{className:"flex items-center gap-2 text-xs text-slate-200",children:[(0,t.jsx)("input",{type:"checkbox",checked:R,onChange:e=>M(e.target.checked),className:"h-4 w-4 rounded border-white/40 bg-slate-900 text-sky-400"}),"Include crib impact"]})]})]}),(0,t.jsx)("div",{className:"mt-4 grid grid-cols-3 gap-2 sm:grid-cols-6",children:Array.from({length:6}).map((e,r)=>(0,t.jsxs)("button",{type:"button",onClick:()=>_[r]&&ei(_[r]),className:"rounded-xl border border-sky-300/30 bg-sky-500/10 px-2 py-2 text-center text-sm text-sky-100 shadow-inner shadow-sky-900/40 transition hover:border-sky-200/60 hover:shadow-lg hover:shadow-sky-900/40 disabled:cursor-default",disabled:!_[r],children:[(0,t.jsxs)("div",{className:"text-xs uppercase tracking-wide text-sky-200",children:["Card ",r+1]}),(0,t.jsx)("div",{className:"mt-2",children:(0,t.jsx)("div",{className:"relative aspect-[63/88] w-full overflow-hidden rounded-lg border border-sky-200/40 bg-white/90 shadow",children:_[r]?(0,t.jsx)(s.default,{src:u(_[r],W),alt:o(_[r]),fill:!0,sizes:"120px",className:"object-contain p-1",priority:!0}):(0,t.jsx)("div",{className:"flex h-full items-center justify-center text-lg font-semibold text-sky-200",children:"—"})})})]},`discard-${r}`))}),P&&(0,t.jsx)("p",{className:"mt-3 text-sm text-amber-200",children:P})]}),(0,t.jsxs)("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-5 shadow-xl shadow-black/40 backdrop-blur",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-white",children:"Discard suggestions"}),(0,t.jsxs)("p",{className:"text-sm text-slate-300",children:["We average every possible starter from the unseen cards.",R?E?" Expected value = hand average + crib average.":" Expected value = hand average - crib average.":" Crib is ignored when computing the average."]})]}),(0,t.jsx)("div",{className:"text-xs text-slate-300",children:"Crib assumption: when you are non-dealer, you avoid throwing 5s or pairs."})]}),_.length<6&&(0,t.jsx)("p",{className:"mt-3 rounded-lg border border-white/10 bg-white/5 px-3 py-2 text-sm text-slate-200",children:"Pick 6 cards to see the best discard lines."}),6===_.length&&(0,t.jsx)("div",{className:"mt-4 space-y-4",children:et.map((e,s)=>(0,t.jsxs)("div",{className:"rounded-xl border border-white/10 bg-white/5 p-4 shadow-inner shadow-black/30",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("span",{className:"rounded-full bg-sky-500/20 px-3 py-1 text-xs font-semibold uppercase tracking-wide text-sky-100",children:["#",s+1]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-slate-200",children:"Keep the four below, discard the two to the crib."}),(0,t.jsx)("p",{className:"text-xs text-slate-400",children:"Best starters highlight spikes you can hope to cut."})]})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("div",{className:"text-xs uppercase tracking-wide text-lime-200",children:"Expected value"}),(0,t.jsx)("div",{className:"text-3xl font-black text-lime-100",children:e.expectedValue.toFixed(2)}),R&&(0,t.jsxs)("div",{className:"mt-1 text-[11px] text-slate-300",children:["Hand ",e.handAverage.toFixed(2)," / Crib"," ",e.cribAverage.toFixed(2)]})]})]}),(0,t.jsxs)("div",{className:"mt-3 grid gap-3 md:grid-cols-[1.2fr,0.8fr]",children:[(0,t.jsxs)("div",{className:"rounded-xl border border-white/5 bg-white/5 p-3",children:[(0,t.jsx)("div",{className:"text-xs uppercase tracking-wide text-emerald-200",children:"Keep"}),(0,t.jsx)("div",{className:"mt-2 flex flex-wrap gap-2",children:e.keep.map(e=>(0,t.jsx)("span",{className:"inline-flex items-center gap-1 rounded-full border border-emerald-200/40 bg-emerald-500/10 px-3 py-1 text-sm font-semibold text-emerald-50",children:o(e)},`keep-${e.id}`))}),(0,t.jsx)("div",{className:"mt-3 text-xs uppercase tracking-wide text-amber-200",children:"Discard to crib"}),(0,t.jsx)("div",{className:"mt-2 flex flex-wrap gap-2",children:e.discards.map(e=>(0,t.jsx)("span",{className:"inline-flex items-center gap-1 rounded-full border border-amber-200/50 bg-amber-500/10 px-3 py-1 text-sm font-semibold text-amber-50",children:o(e)},`discard-${e.id}`))})]}),(0,t.jsxs)("div",{className:"rounded-xl border border-white/5 bg-white/5 p-3 text-sm text-slate-100",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{children:"Hand average"}),(0,t.jsxs)("span",{className:"font-semibold text-lime-100",children:[e.handAverage.toFixed(2)," pts"]})]}),R&&(0,t.jsxs)("div",{className:"mt-2 flex items-center justify-between",children:[(0,t.jsx)("span",{children:"Crib average"}),(0,t.jsxs)("span",{className:"font-semibold text-lime-100",children:[e.cribAverage.toFixed(2)," pts"]})]}),(0,t.jsx)("div",{className:"mt-2 text-xs text-slate-300",children:"Best starters for this keep:"}),(0,t.jsx)("div",{className:"mt-2 flex flex-wrap gap-2",children:e.bestStarters.map(({card:e,score:s})=>(0,t.jsxs)("span",{className:"inline-flex items-center gap-2 rounded-full border border-sky-200/50 bg-sky-500/15 px-3 py-1 text-xs font-semibold text-sky-50",children:[(0,t.jsx)("span",{children:o(e)}),(0,t.jsxs)("span",{className:"text-slate-200",children:[s," pts"]})]},`starter-${e.id}`))})]})]})]},e.keep.map(e=>e.id).join("-")))})]})]})]}),"test"===e&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-5 shadow-lg shadow-slate-950/50 backdrop-blur",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-white",children:"Test yourself"}),(0,t.jsx)("p",{className:"text-sm text-slate-300",children:"We deal 6 random cards. Pick two to throw to the crib and see how your line compares to the solver."})]}),(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-3",children:[(0,t.jsxs)("div",{className:"flex overflow-hidden rounded-full border border-white/10 bg-white/10 text-xs font-semibold text-white",children:[(0,t.jsx)("button",{onClick:()=>B(!0),className:`px-3 py-1.5 transition ${H?"bg-white/20":"hover:bg-white/10"}`,children:"You are dealer"}),(0,t.jsx)("button",{onClick:()=>B(!1),className:`px-3 py-1.5 transition ${!H?"bg-white/20":"hover:bg-white/10"}`,children:"Opponent is dealer"})]}),(0,t.jsxs)("label",{className:"flex items-center gap-2 text-xs text-slate-200",children:[(0,t.jsx)("input",{type:"checkbox",checked:V,onChange:e=>q(e.target.checked),className:"h-4 w-4 rounded border-white/40 bg-slate-900 text-sky-400"}),"Include crib impact"]}),(0,t.jsx)("button",{onClick:en,className:"inline-flex items-center justify-center rounded-full border border-white/20 bg-white/10 px-3 py-1.5 text-xs font-semibold text-white shadow hover:-translate-y-[1px] hover:bg-white/20",children:"New random 6"}),eo]})]}),(0,t.jsx)("div",{className:"mt-4 grid grid-cols-3 gap-2 sm:grid-cols-6",children:I.map(e=>{let r=X.has(e.id);return(0,t.jsxs)("button",{onClick:()=>(e=>{if(T(null),F.some(t=>t.id===e.id)){let t=F.filter(t=>t.id!==e.id);A(t),2!==t.length&&U(!1);return}if(F.length<2){let t=[...F,e];A(t),2===t.length?U(!0):U(!1);return}T("You already picked 2 discards. Tap again to deselect.")})(e),className:`group relative overflow-hidden rounded-xl border bg-white/90 p-1 text-left shadow-sm shadow-black/25 transition duration-150 hover:-translate-y-0.5 hover:shadow-lg hover:shadow-black/40 ${r?"border-sky-200 ring-2 ring-sky-300":"border-slate-200/70"}`,children:[(0,t.jsx)("div",{className:"relative aspect-[63/88] w-full overflow-hidden rounded-lg bg-gradient-to-br from-white to-slate-50",children:(0,t.jsx)(s.default,{src:u(e,W),alt:o(e),fill:!0,sizes:"120px",className:"object-contain drop-shadow-sm"})}),(0,t.jsx)("div",{className:"pointer-events-none absolute inset-0 rounded-xl border border-white/50"}),(0,t.jsx)("div",{className:"absolute bottom-2 left-2 flex flex-wrap gap-1 text-[10px] font-semibold text-slate-800 drop-shadow",children:r?(0,t.jsx)("span",{className:"rounded-full bg-sky-500/90 px-2 py-0.5 text-white shadow",children:"Discard"}):(0,t.jsx)("span",{className:"rounded-full bg-slate-100/90 px-2 py-0.5 text-slate-700 shadow",children:"Keep"})})]},e.id)})}),D&&(0,t.jsx)("p",{className:"mt-3 text-sm text-amber-200",children:D})]}),(0,t.jsxs)("section",{className:"mt-6 grid gap-6 lg:grid-cols-2",children:[(0,t.jsxs)("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-5 shadow-xl shadow-black/40 backdrop-blur",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Your discard line"}),(0,t.jsx)("p",{className:"text-sm text-slate-300",children:"Pick exactly two discards to see the expected value."})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("div",{className:"text-xs uppercase tracking-wide text-lime-200",children:"Expected value"}),(0,t.jsx)("div",{className:"text-3xl font-black text-lime-100",children:er?er.expectedValue.toFixed(2):"—"}),er&&V&&(0,t.jsxs)("div",{className:"mt-1 text-[11px] text-slate-300",children:["Hand ",er.handAverage.toFixed(2)," / Crib"," ",er.cribAverage.toFixed(2)]})]})]}),!er&&(0,t.jsx)("p",{className:"mt-3 rounded-lg border border-white/10 bg-white/5 px-3 py-2 text-sm text-slate-200",children:"Select two cards to discard."}),er&&(0,t.jsxs)("div",{className:"mt-4 grid gap-3 md:grid-cols-[1.1fr,0.9fr]",children:[(0,t.jsxs)("div",{className:"rounded-xl border border-white/5 bg-white/5 p-3",children:[(0,t.jsx)("div",{className:"text-xs uppercase tracking-wide text-emerald-200",children:"Keep"}),(0,t.jsx)("div",{className:"mt-2 flex flex-wrap gap-2",children:f(er.keep).map(e=>(0,t.jsx)("span",{className:"inline-flex items-center gap-1 rounded-full border border-emerald-200/40 bg-emerald-500/10 px-3 py-1 text-sm font-semibold text-emerald-50",children:o(e)},`test-keep-${e.id}`))}),(0,t.jsx)("div",{className:"mt-3 text-xs uppercase tracking-wide text-amber-200",children:"Discard"}),(0,t.jsx)("div",{className:"mt-2 flex flex-wrap gap-2",children:f(er.discards).map(e=>(0,t.jsx)("span",{className:"inline-flex items-center gap-1 rounded-full border border-amber-200/50 bg-amber-500/10 px-3 py-1 text-sm font-semibold text-amber-50",children:o(e)},`test-discard-${e.id}`))})]}),(0,t.jsxs)("div",{className:"rounded-xl border border-white/5 bg-white/5 p-3 text-sm text-slate-100",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{children:"Hand average"}),(0,t.jsxs)("span",{className:"font-semibold text-lime-100",children:[er.handAverage.toFixed(2)," pts"]})]}),V&&(0,t.jsxs)("div",{className:"mt-2 flex items-center justify-between",children:[(0,t.jsx)("span",{children:"Crib average"}),(0,t.jsxs)("span",{className:"font-semibold text-lime-100",children:[er.cribAverage.toFixed(2)," pts"]})]}),(0,t.jsx)("div",{className:"mt-2 text-xs text-slate-300",children:"Best starters for your keep:"}),(0,t.jsx)("div",{className:"mt-2 flex flex-wrap gap-2",children:er.bestStarters.map(({card:e,score:s})=>(0,t.jsxs)("span",{className:"inline-flex items-center gap-2 rounded-full border border-sky-200/50 bg-sky-500/15 px-3 py-1 text-xs font-semibold text-sky-50",children:[(0,t.jsx)("span",{children:o(e)}),(0,t.jsxs)("span",{className:"text-slate-200",children:[s," pts"]})]},`user-starter-${e.id}`))})]})]})]}),(0,t.jsxs)("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-5 shadow-xl shadow-black/40 backdrop-blur",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Best solution"}),(0,t.jsx)("p",{className:"text-sm text-slate-300",children:"Solver tries every discard; crib math matches your settings."})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("button",{type:"button",onClick:()=>U(e=>!e),className:`rounded-full border px-3 py-1.5 text-xs font-semibold transition ${L?"border-lime-200/60 bg-lime-500/20 text-lime-50":"border-white/20 bg-white/10 text-white hover:bg-white/20"} ${!es?"opacity-50":""}`,children:L?"Hide best":"Show best"}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("div",{className:"text-xs uppercase tracking-wide text-lime-200",children:"Expected value"}),(0,t.jsx)("div",{className:"text-3xl font-black text-lime-100",children:L&&es?es.expectedValue.toFixed(2):"—"}),L&&es&&V&&(0,t.jsxs)("div",{className:"mt-1 text-[11px] text-slate-300",children:["Hand ",es.handAverage.toFixed(2)," / Crib"," ",es.cribAverage.toFixed(2)]})]})]})]}),!es&&(0,t.jsx)("p",{className:"mt-3 rounded-lg border border-white/10 bg-white/5 px-3 py-2 text-sm text-slate-200",children:"Waiting for a full 6-card deal."}),es&&!L&&(0,t.jsx)("p",{className:"mt-3 rounded-lg border border-white/10 bg-white/5 px-3 py-2 text-sm text-slate-200",children:"Best line is hidden. Select two discards, then tap “Show best”."}),es&&L&&(0,t.jsxs)("div",{className:"mt-4 grid gap-3 md:grid-cols-[1.1fr,0.9fr]",children:[(0,t.jsxs)("div",{className:"rounded-xl border border-white/5 bg-white/5 p-3",children:[(0,t.jsx)("div",{className:"text-xs uppercase tracking-wide text-emerald-200",children:"Keep"}),(0,t.jsx)("div",{className:"mt-2 flex flex-wrap gap-2",children:f(es.keep).map(e=>(0,t.jsx)("span",{className:"inline-flex items-center gap-1 rounded-full border border-emerald-200/40 bg-emerald-500/10 px-3 py-1 text-sm font-semibold text-emerald-50",children:o(e)},`best-keep-${e.id}`))}),(0,t.jsx)("div",{className:"mt-3 text-xs uppercase tracking-wide text-amber-200",children:"Discard"}),(0,t.jsx)("div",{className:"mt-2 flex flex-wrap gap-2",children:f(es.discards).map(e=>(0,t.jsx)("span",{className:"inline-flex items-center gap-1 rounded-full border border-amber-200/50 bg-amber-500/10 px-3 py-1 text-sm font-semibold text-amber-50",children:o(e)},`best-discard-${e.id}`))})]}),(0,t.jsxs)("div",{className:"rounded-xl border border-white/5 bg-white/5 p-3 text-sm text-slate-100",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{children:"Hand average"}),(0,t.jsxs)("span",{className:"font-semibold text-lime-100",children:[es.handAverage.toFixed(2)," pts"]})]}),V&&(0,t.jsxs)("div",{className:"mt-2 flex items-center justify-between",children:[(0,t.jsx)("span",{children:"Crib average"}),(0,t.jsxs)("span",{className:"font-semibold text-lime-100",children:[es.cribAverage.toFixed(2)," pts"]})]}),(0,t.jsx)("div",{className:"mt-2 text-xs text-slate-300",children:"Best starters:"}),(0,t.jsx)("div",{className:"mt-2 flex flex-wrap gap-2",children:es.bestStarters.map(({card:e,score:s})=>(0,t.jsxs)("span",{className:"inline-flex items-center gap-2 rounded-full border border-sky-200/50 bg-sky-500/15 px-3 py-1 text-xs font-semibold text-sky-50",children:[(0,t.jsx)("span",{children:o(e)}),(0,t.jsxs)("span",{className:"text-slate-200",children:[s," pts"]})]},`best-starter-${e.id}`))})]})]}),er&&es&&L&&(0,t.jsxs)("div",{className:"mt-4 rounded-xl border border-lime-200/20 bg-lime-500/5 p-3 text-xs text-slate-200",children:[(0,t.jsx)("div",{className:"font-semibold text-white",children:"Comparison"}),(0,t.jsxs)("p",{className:"mt-1",children:["Your line: ",er.expectedValue.toFixed(2)," vs best:"," ",es.expectedValue.toFixed(2)," (",(es.expectedValue-er.expectedValue).toFixed(2)," ","diff)."]})]})]})]})]})]})})}e.s(["default",()=>N])}]);