(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,88143,(e,t,s)=>{"use strict";function r({widthInt:e,heightInt:t,blurWidth:s,blurHeight:r,blurDataURL:l,objectFit:a}){let i=s?40*s:e,d=r?40*r:t,n=i&&d?`viewBox='0 0 ${i} ${d}'`:"";return`%3Csvg xmlns='http://www.w3.org/2000/svg' ${n}%3E%3Cfilter id='b' color-interpolation-filters='sRGB'%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3CfeColorMatrix values='1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 100 -1' result='s'/%3E%3CfeFlood x='0' y='0' width='100%25' height='100%25'/%3E%3CfeComposite operator='out' in='s'/%3E%3CfeComposite in2='SourceGraphic'/%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3C/filter%3E%3Cimage width='100%25' height='100%25' x='0' y='0' preserveAspectRatio='${n?"none":"contain"===a?"xMidYMid":"cover"===a?"xMidYMid slice":"none"}' style='filter: url(%23b);' href='${l}'/%3E%3C/svg%3E`}Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"getImageBlurSvg",{enumerable:!0,get:function(){return r}})},87690,(e,t,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0});var r={VALID_LOADERS:function(){return a},imageConfigDefault:function(){return i}};for(var l in r)Object.defineProperty(s,l,{enumerable:!0,get:r[l]});let a=["default","imgix","cloudinary","akamai","custom"],i={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[32,48,64,96,128,256,384],path:"/_next/image",loader:"default",loaderFile:"",domains:[],disableStaticImages:!1,minimumCacheTTL:14400,formats:["image/webp"],maximumRedirects:3,dangerouslyAllowLocalIP:!1,dangerouslyAllowSVG:!1,contentSecurityPolicy:"script-src 'none'; frame-src 'none'; sandbox;",contentDispositionType:"attachment",localPatterns:void 0,remotePatterns:[],qualities:[75],unoptimized:!1}},8927,(e,t,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"getImgProps",{enumerable:!0,get:function(){return n}}),e.r(33525);let r=e.r(88143),l=e.r(87690),a=["-moz-initial","fill","none","scale-down",void 0];function i(e){return void 0!==e.default}function d(e){return void 0===e?e:"number"==typeof e?Number.isFinite(e)?e:NaN:"string"==typeof e&&/^[0-9]+$/.test(e)?parseInt(e,10):NaN}function n({src:e,sizes:t,unoptimized:s=!1,priority:n=!1,preload:o=!1,loading:c,className:m,quality:u,width:x,height:h,fill:p=!1,style:f,overrideSrc:b,onLoad:g,onLoadingComplete:w,placeholder:j="empty",blurDataURL:v,fetchPriority:y,decoding:N="async",layout:k,objectFit:S,objectPosition:C,lazyBoundary:_,lazyRoot:$,...P},E){var O;let R,M,F,{imgConf:A,showAltText:I,blurComplete:T,defaultLoader:z}=E,D=A||l.imageConfigDefault;if("allSizes"in D)R=D;else{let e=[...D.deviceSizes,...D.imageSizes].sort((e,t)=>e-t),t=D.deviceSizes.sort((e,t)=>e-t),s=D.qualities?.sort((e,t)=>e-t);R={...D,allSizes:e,deviceSizes:t,qualities:s}}if(void 0===z)throw Object.defineProperty(Error("images.loaderFile detected but the file is missing default export.\nRead more: https://nextjs.org/docs/messages/invalid-images-config"),"__NEXT_ERROR_CODE",{value:"E163",enumerable:!1,configurable:!0});let H=P.loader||z;delete P.loader,delete P.srcSet;let B="__next_img_default"in H;if(B){if("custom"===R.loader)throw Object.defineProperty(Error(`Image with src "${e}" is missing "loader" prop.
Read more: https://nextjs.org/docs/messages/next-image-missing-loader`),"__NEXT_ERROR_CODE",{value:"E252",enumerable:!1,configurable:!0})}else{let e=H;H=t=>{let{config:s,...r}=t;return e(r)}}if(k){"fill"===k&&(p=!0);let e={intrinsic:{maxWidth:"100%",height:"auto"},responsive:{width:"100%",height:"auto"}}[k];e&&(f={...f,...e});let s={responsive:"100vw",fill:"100vw"}[k];s&&!t&&(t=s)}let q="",V=d(x),L=d(h);if((O=e)&&"object"==typeof O&&(i(O)||void 0!==O.src)){let t=i(e)?e.default:e;if(!t.src)throw Object.defineProperty(Error(`An object should only be passed to the image component src parameter if it comes from a static image import. It must include src. Received ${JSON.stringify(t)}`),"__NEXT_ERROR_CODE",{value:"E460",enumerable:!1,configurable:!0});if(!t.height||!t.width)throw Object.defineProperty(Error(`An object should only be passed to the image component src parameter if it comes from a static image import. It must include height and width. Received ${JSON.stringify(t)}`),"__NEXT_ERROR_CODE",{value:"E48",enumerable:!1,configurable:!0});if(M=t.blurWidth,F=t.blurHeight,v=v||t.blurDataURL,q=t.src,!p)if(V||L){if(V&&!L){let e=V/t.width;L=Math.round(t.height*e)}else if(!V&&L){let e=L/t.height;V=Math.round(t.width*e)}}else V=t.width,L=t.height}let U=!n&&!o&&("lazy"===c||void 0===c);(!(e="string"==typeof e?e:q)||e.startsWith("data:")||e.startsWith("blob:"))&&(s=!0,U=!1),R.unoptimized&&(s=!0),B&&!R.dangerouslyAllowSVG&&e.split("?",1)[0].endsWith(".svg")&&(s=!0);let W=d(u),Y=Object.assign(p?{position:"absolute",height:"100%",width:"100%",left:0,top:0,right:0,bottom:0,objectFit:S,objectPosition:C}:{},I?{}:{color:"transparent"},f),K=T||"empty"===j?null:"blur"===j?`url("data:image/svg+xml;charset=utf-8,${(0,r.getImageBlurSvg)({widthInt:V,heightInt:L,blurWidth:M,blurHeight:F,blurDataURL:v||"",objectFit:Y.objectFit})}")`:`url("${j}")`,G=a.includes(Y.objectFit)?"fill"===Y.objectFit?"100% 100%":"cover":Y.objectFit,J=K?{backgroundSize:G,backgroundPosition:Y.objectPosition||"50% 50%",backgroundRepeat:"no-repeat",backgroundImage:K}:{},X=function({config:e,src:t,unoptimized:s,width:r,quality:l,sizes:a,loader:i}){if(s)return{src:t,srcSet:void 0,sizes:void 0};let{widths:d,kind:n}=function({deviceSizes:e,allSizes:t},s,r){if(r){let s=/(^|\s)(1?\d?\d)vw/g,l=[];for(let e;e=s.exec(r);)l.push(parseInt(e[2]));if(l.length){let s=.01*Math.min(...l);return{widths:t.filter(t=>t>=e[0]*s),kind:"w"}}return{widths:t,kind:"w"}}return"number"!=typeof s?{widths:e,kind:"w"}:{widths:[...new Set([s,2*s].map(e=>t.find(t=>t>=e)||t[t.length-1]))],kind:"x"}}(e,r,a),o=d.length-1;return{sizes:a||"w"!==n?a:"100vw",srcSet:d.map((s,r)=>`${i({config:e,src:t,quality:l,width:s})} ${"w"===n?s:r+1}${n}`).join(", "),src:i({config:e,src:t,quality:l,width:d[o]})}}({config:R,src:e,unoptimized:s,width:V,quality:W,sizes:t,loader:H}),Q=U?"lazy":c;return{props:{...P,loading:Q,fetchPriority:y,width:V,height:L,decoding:N,className:m,style:{...Y,...J},sizes:X.sizes,srcSet:X.srcSet,src:b||X.src},meta:{unoptimized:s,preload:o||n,placeholder:j,fill:p}}}},98879,(e,t,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"default",{enumerable:!0,get:function(){return d}});let r=e.r(71645),l="undefined"==typeof window,a=l?()=>{}:r.useLayoutEffect,i=l?()=>{}:r.useEffect;function d(e){let{headManager:t,reduceComponentsToState:s}=e;function d(){if(t&&t.mountedInstances){let e=r.Children.toArray(Array.from(t.mountedInstances).filter(Boolean));t.updateHead(s(e))}}return l&&(t?.mountedInstances?.add(e.children),d()),a(()=>(t?.mountedInstances?.add(e.children),()=>{t?.mountedInstances?.delete(e.children)})),a(()=>(t&&(t._pendingUpdate=d),()=>{t&&(t._pendingUpdate=d)})),i(()=>(t&&t._pendingUpdate&&(t._pendingUpdate(),t._pendingUpdate=null),()=>{t&&t._pendingUpdate&&(t._pendingUpdate(),t._pendingUpdate=null)})),null}},25633,(e,t,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0});var r={default:function(){return p},defaultHead:function(){return m}};for(var l in r)Object.defineProperty(s,l,{enumerable:!0,get:r[l]});let a=e.r(55682),i=e.r(90809),d=e.r(43476),n=i._(e.r(71645)),o=a._(e.r(98879)),c=e.r(42732);function m(){return[(0,d.jsx)("meta",{charSet:"utf-8"},"charset"),(0,d.jsx)("meta",{name:"viewport",content:"width=device-width"},"viewport")]}function u(e,t){return"string"==typeof t||"number"==typeof t?e:t.type===n.default.Fragment?e.concat(n.default.Children.toArray(t.props.children).reduce((e,t)=>"string"==typeof t||"number"==typeof t?e:e.concat(t),[])):e.concat(t)}e.r(33525);let x=["name","httpEquiv","charSet","itemProp"];function h(e){let t,s,r,l;return e.reduce(u,[]).reverse().concat(m().reverse()).filter((t=new Set,s=new Set,r=new Set,l={},e=>{let a=!0,i=!1;if(e.key&&"number"!=typeof e.key&&e.key.indexOf("$")>0){i=!0;let s=e.key.slice(e.key.indexOf("$")+1);t.has(s)?a=!1:t.add(s)}switch(e.type){case"title":case"base":s.has(e.type)?a=!1:s.add(e.type);break;case"meta":for(let t=0,s=x.length;t<s;t++){let s=x[t];if(e.props.hasOwnProperty(s))if("charSet"===s)r.has(s)?a=!1:r.add(s);else{let t=e.props[s],r=l[s]||new Set;("name"!==s||!i)&&r.has(t)?a=!1:(r.add(t),l[s]=r)}}}return a})).reverse().map((e,t)=>{let s=e.key||t;return n.default.cloneElement(e,{key:s})})}let p=function({children:e}){let t=(0,n.useContext)(c.HeadManagerContext);return(0,d.jsx)(o.default,{reduceComponentsToState:h,headManager:t,children:e})};("function"==typeof s.default||"object"==typeof s.default&&null!==s.default)&&void 0===s.default.__esModule&&(Object.defineProperty(s.default,"__esModule",{value:!0}),Object.assign(s.default,s),t.exports=s.default)},18556,(e,t,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"ImageConfigContext",{enumerable:!0,get:function(){return a}});let r=e.r(55682)._(e.r(71645)),l=e.r(87690),a=r.default.createContext(l.imageConfigDefault)},65856,(e,t,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"RouterContext",{enumerable:!0,get:function(){return r}});let r=e.r(55682)._(e.r(71645)).default.createContext(null)},70965,(e,t,s)=>{"use strict";function r(e,t){let s=e||75;return t?.qualities?.length?t.qualities.reduce((e,t)=>Math.abs(t-s)<Math.abs(e-s)?t:e,0):s}Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"findClosestQuality",{enumerable:!0,get:function(){return r}})},1948,(e,t,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"default",{enumerable:!0,get:function(){return a}});let r=e.r(70965);function l({config:e,src:t,width:s,quality:l}){if(t.startsWith("/")&&t.includes("?")&&e.localPatterns?.length===1&&"**"===e.localPatterns[0].pathname&&""===e.localPatterns[0].search)throw Object.defineProperty(Error(`Image with src "${t}" is using a query string which is not configured in images.localPatterns.
Read more: https://nextjs.org/docs/messages/next-image-unconfigured-localpatterns`),"__NEXT_ERROR_CODE",{value:"E871",enumerable:!1,configurable:!0});let a=(0,r.findClosestQuality)(l,e);return`${e.path}?url=${encodeURIComponent(t)}&w=${s}&q=${a}${t.startsWith("/_next/static/media/"),""}`}l.__next_img_default=!0;let a=l},18581,(e,t,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"useMergedRef",{enumerable:!0,get:function(){return l}});let r=e.r(71645);function l(e,t){let s=(0,r.useRef)(null),l=(0,r.useRef)(null);return(0,r.useCallback)(r=>{if(null===r){let e=s.current;e&&(s.current=null,e());let t=l.current;t&&(l.current=null,t())}else e&&(s.current=a(e,r)),t&&(l.current=a(t,r))},[e,t])}function a(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let s=e(t);return"function"==typeof s?s:()=>e(null)}}("function"==typeof s.default||"object"==typeof s.default&&null!==s.default)&&void 0===s.default.__esModule&&(Object.defineProperty(s.default,"__esModule",{value:!0}),Object.assign(s.default,s),t.exports=s.default)},5500,(e,t,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"Image",{enumerable:!0,get:function(){return j}});let r=e.r(55682),l=e.r(90809),a=e.r(43476),i=l._(e.r(71645)),d=r._(e.r(74080)),n=r._(e.r(25633)),o=e.r(8927),c=e.r(87690),m=e.r(18556);e.r(33525);let u=e.r(65856),x=r._(e.r(1948)),h=e.r(18581),p={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[32,48,64,96,128,256,384],qualities:[75],path:"/_next/image/",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!0};function f(e,t,s,r,l,a,i){let d=e?.src;e&&e["data-loaded-src"]!==d&&(e["data-loaded-src"]=d,("decode"in e?e.decode():Promise.resolve()).catch(()=>{}).then(()=>{if(e.parentElement&&e.isConnected){if("empty"!==t&&l(!0),s?.current){let t=new Event("load");Object.defineProperty(t,"target",{writable:!1,value:e});let r=!1,l=!1;s.current({...t,nativeEvent:t,currentTarget:e,target:e,isDefaultPrevented:()=>r,isPropagationStopped:()=>l,persist:()=>{},preventDefault:()=>{r=!0,t.preventDefault()},stopPropagation:()=>{l=!0,t.stopPropagation()}})}r?.current&&r.current(e)}}))}function b(e){return i.use?{fetchPriority:e}:{fetchpriority:e}}"undefined"==typeof window&&(globalThis.__NEXT_IMAGE_IMPORTED=!0);let g=(0,i.forwardRef)(({src:e,srcSet:t,sizes:s,height:r,width:l,decoding:d,className:n,style:o,fetchPriority:c,placeholder:m,loading:u,unoptimized:x,fill:p,onLoadRef:g,onLoadingCompleteRef:w,setBlurComplete:j,setShowAltText:v,sizesInput:y,onLoad:N,onError:k,...S},C)=>{let _=(0,i.useCallback)(e=>{e&&(k&&(e.src=e.src),e.complete&&f(e,m,g,w,j,x,y))},[e,m,g,w,j,k,x,y]),$=(0,h.useMergedRef)(C,_);return(0,a.jsx)("img",{...S,...b(c),loading:u,width:l,height:r,decoding:d,"data-nimg":p?"fill":"1",className:n,style:o,sizes:s,srcSet:t,src:e,ref:$,onLoad:e=>{f(e.currentTarget,m,g,w,j,x,y)},onError:e=>{v(!0),"empty"!==m&&j(!0),k&&k(e)}})});function w({isAppRouter:e,imgAttributes:t}){let s={as:"image",imageSrcSet:t.srcSet,imageSizes:t.sizes,crossOrigin:t.crossOrigin,referrerPolicy:t.referrerPolicy,...b(t.fetchPriority)};return e&&d.default.preload?(d.default.preload(t.src,s),null):(0,a.jsx)(n.default,{children:(0,a.jsx)("link",{rel:"preload",href:t.srcSet?void 0:t.src,...s},"__nimg-"+t.src+t.srcSet+t.sizes)})}let j=(0,i.forwardRef)((e,t)=>{let s=(0,i.useContext)(u.RouterContext),r=(0,i.useContext)(m.ImageConfigContext),l=(0,i.useMemo)(()=>{let e=p||r||c.imageConfigDefault,t=[...e.deviceSizes,...e.imageSizes].sort((e,t)=>e-t),s=e.deviceSizes.sort((e,t)=>e-t),l=e.qualities?.sort((e,t)=>e-t);return{...e,allSizes:t,deviceSizes:s,qualities:l,localPatterns:"undefined"==typeof window?r?.localPatterns:e.localPatterns}},[r]),{onLoad:d,onLoadingComplete:n}=e,h=(0,i.useRef)(d);(0,i.useEffect)(()=>{h.current=d},[d]);let f=(0,i.useRef)(n);(0,i.useEffect)(()=>{f.current=n},[n]);let[b,j]=(0,i.useState)(!1),[v,y]=(0,i.useState)(!1),{props:N,meta:k}=(0,o.getImgProps)(e,{defaultLoader:x.default,imgConf:l,blurComplete:b,showAltText:v});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(g,{...N,unoptimized:k.unoptimized,placeholder:k.placeholder,fill:k.fill,onLoadRef:h,onLoadingCompleteRef:f,setBlurComplete:j,setShowAltText:y,sizesInput:e.sizes,ref:t}),k.preload?(0,a.jsx)(w,{isAppRouter:!s,imgAttributes:N}):null]})});("function"==typeof s.default||"object"==typeof s.default&&null!==s.default)&&void 0===s.default.__esModule&&(Object.defineProperty(s.default,"__esModule",{value:!0}),Object.assign(s.default,s),t.exports=s.default)},94909,(e,t,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0});var r={default:function(){return c},getImageProps:function(){return o}};for(var l in r)Object.defineProperty(s,l,{enumerable:!0,get:r[l]});let a=e.r(55682),i=e.r(8927),d=e.r(5500),n=a._(e.r(1948));function o(e){let{props:t}=(0,i.getImgProps)(e,{defaultLoader:n.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[32,48,64,96,128,256,384],qualities:[75],path:"/_next/image/",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!0}});for(let[e,s]of Object.entries(t))void 0===s&&delete t[e];return{props:t}}let c=d.Image},57688,(e,t,s)=>{t.exports=e.r(94909)},52683,e=>{"use strict";var t=e.i(43476),s=e.i(71645),r=e.i(57688);let l=[{label:"A",value:1,order:1},{label:"2",value:2,order:2},{label:"3",value:3,order:3},{label:"4",value:4,order:4},{label:"5",value:5,order:5},{label:"6",value:6,order:6},{label:"7",value:7,order:7},{label:"8",value:8,order:8},{label:"9",value:9,order:9},{label:"10",value:10,order:10},{label:"J",value:10,order:11},{label:"Q",value:10,order:12},{label:"K",value:10,order:13}],a=["♠","♥","♦","♣"],i={"♠":{name:"Spades",slug:"spades",color:"text-slate-200"},"♥":{name:"Hearts",slug:"hearts",color:"text-red-200"},"♦":{name:"Diamonds",slug:"diamonds",color:"text-rose-200"},"♣":{name:"Clubs",slug:"clubs",color:"text-emerald-200"}},d={"♠":0,"♥":1,"♦":2,"♣":3},n=l.flatMap(e=>a.map(t=>({rank:e.label,value:e.value,order:e.order,suit:t,id:`${e.label}${t}`})));function o(e){return`${e.rank}${e.suit}`}let c={A:"ace",J:"jack",Q:"queen",K:"king",10:"10",9:"9",8:"8",7:"7",6:"6",5:"5",4:"4",3:"3",2:"2"};function m(e,t){let s=i[e.suit].slug,r=c[e.rank]??e.rank.toLowerCase(),l=["J","Q","K"].includes(e.rank);return`./cards/${r}_of_${s}${l&&"original"===t?"2":""}.svg`}function u(e){let t,s,r=(t=[],s=[],!function r(l){s.length&&t.push([...s]);for(let t=l;t<e.length;t+=1)s.push(e[t]),r(t+1),s.pop()}(0),t),l=[];return r.forEach(e=>{15===e.reduce((e,t)=>e+t.value,0)&&e.length>=2&&l.push(`${e.map(o).join(" + ")} = 15`)}),{label:"Fifteens",points:2*l.length,detail:l.length?l.map(e=>`${e} (2 pts)`):["No combinations totaled 15."]}}function x(e){let t=e.reduce((e,t)=>(e[t.rank]=(e[t.rank]??0)+1,e),{}),s=[],r=0;return Object.entries(t).forEach(([e,t])=>{if(t>=2){let l=t*(t-1)/2,a=2===t?"Pair":`${t} of a kind`;s.push(`${a} of ${e}s → ${2*l} pts`),r+=2*l}}),s.length||s.push("No pairs."),{label:"Pairs",points:r,detail:s}}function h(e){let t=e.reduce((e,t)=>(e[t.order]=(e[t.order]??0)+1,e),{}),s=0,r=0,a=[],i=1;for(;i<=13;){if(!t[i]){i+=1;continue}let e=i,d=1;for(;t[e];)d*=t[e],e+=1;let n=e-i;if(n>=3){let e=Array.from({length:n},(e,t)=>i+t).map(e=>{let t=l.find(t=>t.order===e);return t?.label??e.toString()}).join("-"),t=n*d;n>s?(s=n,r=t,a.length=0,a.push(`Run of ${n} (${e}) \xd7${d} = ${t} pts`)):n===s&&(r+=t,a.push(`Run of ${n} (${e}) \xd7${d} = ${t} pts`))}i=e+1}return a.length||a.push("No runs (need 3+ consecutive ranks)."),{label:"Runs",points:r,detail:a}}function p(e,t){let s,r=[...e,t],l=[u(r),x(r),h(r),function(e,t){if(!e.every(t=>t.suit===e[0].suit))return{label:"Flush",points:0,detail:["No flush (all 4 hand cards must share a suit)."]};let s=t.suit===e[0].suit;return{label:"Flush",points:s?5:4,detail:[s?"5-card flush (hand + starter) = 5 pts":"4-card flush (hand only) = 4 pts"]}}(e,t),{label:"His Nobs",points:+!!(s=e.find(e=>"J"===e.rank&&e.suit===t.suit)),detail:s?[`Jack of ${t.suit} in hand matches starter suit = 1 pt`]:["No matching Jack for starter suit."]}];return{total:l.reduce((e,t)=>e+t.points,0),parts:l}}function f(e,t){if(!t.length)return{average:0,best:[]};let s=t.map(t=>({card:t,score:p(e,t).total})),r=s.reduce((e,t)=>e+t.score,0),l=[...s].sort((e,t)=>t.score-e.score),a=[],i=new Set;for(let e of l){if(i.size>=3&&!i.has(e.score))break;a.push(e),i.add(e.score)}return{average:r/s.length,best:a}}function b(e){let t=new Map;return e.forEach(({card:e,score:s})=>{let r=t.get(s)??[];r.push(e),t.set(s,r)}),Array.from(t.entries()).sort((e,t)=>t[0]-e[0]).map(([e,t])=>({score:e,cards:j(t)}))}function g(e,t,s){if(!t.length)return 0;let r=0,l=0;for(let a=0;a<t.length;a+=1){let i=t[a];for(let d=a+1;d<t.length;d+=1){let n=t[d];if(s||"5"!==i.rank&&"5"!==n.rank&&i.rank!==n.rank)for(let s=0;s<t.length;s+=1)s!==a&&s!==d&&(r+=p([...e,i,n],t[s]).total,l+=1)}}return l?r/l:0}function w(e,t,s){let r,l;if(6!==e.length)return[];let a=n.filter(t=>!e.some(e=>e.id===t.id));return(r=[],l=[],!function t(s,a){if(4===a)return void r.push([...l]);for(let r=s;r<e.length;r+=1)l.push(e[r]),t(r+1,a+1),l.pop()}(0,0),r).map(r=>{let l=e.filter(e=>!r.some(t=>t.id===e.id)),{average:i,best:d}=f(r,a),n=s?g(l,a,t):0,o=a.length?Math.min(...a.map(e=>p(r,e).total)):0,c=s?t?i+n:i-n:i;return{keep:r,discards:l,handAverage:i,cribAverage:n,expectedValue:c,bestStarters:d,minHandScore:o}}).sort((e,t)=>t.expectedValue-e.expectedValue).slice(0,3)}function j(e){return[...e].sort((e,t)=>e.order!==t.order?e.order-t.order:d[e.suit]-d[t.suit])}function v({cardsBySuit:e,hand:s,starter:l,note:a,faceStyle:i,faceStyleToggle:d,selectedIds:n,handleToggleCountCard:c,handOnlyBreakdown:u,breakdown:x,slotsFilled:h,picksRef:p}){return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-4 shadow-lg shadow-slate-950/50 backdrop-blur",children:[(0,t.jsxs)("div",{className:"mb-4 flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-white",children:"Full deck"}),(0,t.jsxs)("p",{className:"text-xs text-slate-300",children:[n.size,"/5 selected"]})]}),d]}),(0,t.jsx)("div",{className:"grid grid-cols-4 gap-1 sm:grid-cols-4 lg:grid-cols-1",children:e.map(({suit:e,cards:a})=>(0,t.jsx)("div",{children:(0,t.jsx)("div",{className:"grid grid-cols-1 gap-1 lg:grid-cols-13",children:a.map(e=>{let a=s.some(t=>t.id===e.id),d=l?.id===e.id,n=a||d;return(0,t.jsxs)("button",{onClick:()=>c(e),className:`group relative overflow-hidden rounded-xl border bg-white/90 p-1 text-left shadow-sm shadow-black/25 transition duration-150 hover:-translate-y-0.5 hover:shadow-lg hover:shadow-black/40 ${n?"border-lime-200 ring-2 ring-lime-300":"border-slate-200/70"}`,children:[(0,t.jsx)("div",{className:"relative aspect-[63/88] w-full overflow-hidden rounded-lg bg-gradient-to-br from-white to-slate-50",children:(0,t.jsx)(r.default,{src:m(e,i),alt:o(e),fill:!0,sizes:"(min-width:1024px) 90px, (min-width:640px) 16vw, 22vw",className:"object-contain drop-shadow-sm"})}),(0,t.jsx)("div",{className:"pointer-events-none absolute inset-0 rounded-xl border border-white/50"}),(0,t.jsxs)("div",{className:"absolute bottom-2 left-2 flex flex-wrap gap-1 text-[10px] font-semibold text-slate-800 drop-shadow",children:[a&&(0,t.jsx)("span",{className:"rounded-full bg-emerald-500/90 px-2 py-0.5 text-white shadow",children:"Hand"}),d&&(0,t.jsx)("span",{className:"rounded-full bg-amber-400/90 px-2 py-0.5 text-amber-950 shadow",children:"Starter"}),!n&&(0,t.jsx)("span",{className:"rounded-full bg-slate-100/90 px-2 py-0.5 text-slate-700 shadow",children:"Add"})]})]},e.id)})})},e))})]}),(0,t.jsxs)("section",{className:"mt-6 grid gap-6 lg:grid-cols-[1.1fr,0.9fr]",children:[(0,t.jsx)("div",{className:"space-y-4",children:(0,t.jsxs)("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-4 shadow-lg shadow-slate-950/50 backdrop-blur",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-white",children:"Your picks"}),(0,t.jsx)("p",{className:"text-sm text-slate-300",children:"Click a card to add it. Click again to remove. The first 4 go to your hand, then the starter."})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 rounded-full border border-emerald-400/30 bg-emerald-500/10 px-3 py-1 text-xs font-semibold uppercase tracking-wide text-emerald-200",children:[(0,t.jsx)("span",{className:"h-2 w-2 rounded-full bg-emerald-400"}),"Hand"]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 rounded-full border border-amber-400/30 bg-amber-500/10 px-3 py-1 text-xs font-semibold uppercase tracking-wide text-amber-200",children:[(0,t.jsx)("span",{className:"h-2 w-2 rounded-full bg-amber-400"}),"Starter"]})]})]}),(0,t.jsxs)("div",{ref:p,className:"mt-4 grid grid-cols-4 gap-1 sm:grid-cols-5",children:[Array.from({length:4}).map((e,l)=>(0,t.jsxs)("button",{type:"button",onClick:()=>s[l]&&c(s[l]),className:"rounded-xl border border-emerald-300/20 bg-emerald-500/10 px-2 py-2 text-center text-sm text-emerald-100 shadow-inner shadow-emerald-900/50 transition hover:border-emerald-200/60 hover:shadow-lg hover:shadow-emerald-900/40 disabled:cursor-default",disabled:!s[l],children:[(0,t.jsxs)("div",{className:"text-xs uppercase tracking-wide text-emerald-200",children:["Hand ",l+1]}),(0,t.jsx)("div",{className:"mt-2",children:(0,t.jsx)("div",{className:"relative aspect-[63/88] w-full overflow-hidden rounded-lg border border-emerald-200/40 bg-white/90 shadow",children:s[l]?(0,t.jsx)(r.default,{src:m(s[l],i),alt:o(s[l]),fill:!0,sizes:"120px",className:"object-contain p-1",priority:!0}):(0,t.jsx)("div",{className:"flex h-full items-center justify-center text-lg font-semibold text-emerald-200",children:"—"})})})]},`hand-${l}`)),(0,t.jsxs)("button",{type:"button",onClick:()=>l&&c(l),className:"rounded-xl border border-amber-300/30 bg-amber-500/10 px-3 py-4 text-center text-sm text-amber-100 shadow-inner shadow-amber-900/40 transition hover:border-amber-200/60 hover:shadow-lg hover:shadow-amber-900/30 disabled:cursor-default",disabled:!l,children:[(0,t.jsx)("div",{className:"text-xs uppercase tracking-wide text-amber-200",children:"Starter"}),(0,t.jsx)("div",{className:"mt-2",children:(0,t.jsx)("div",{className:"relative aspect-[63/88] w-full overflow-hidden rounded-lg border border-amber-200/40 bg-white/90 shadow",children:l?(0,t.jsx)(r.default,{src:m(l,i),alt:o(l),fill:!0,sizes:"120px",className:"object-contain p-1",priority:!0}):(0,t.jsx)("div",{className:"flex h-full items-center justify-center text-lg font-semibold text-amber-200",children:"—"})})})]})]}),a&&(0,t.jsx)("p",{className:"mt-3 text-sm text-amber-200",children:a})]})}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"rounded-2xl border border-lime-300/20 bg-lime-500/5 p-5 shadow-xl shadow-black/40 backdrop-blur",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-white",children:"Score"}),(0,t.jsx)("p",{className:"text-sm text-slate-300",children:"Totals refresh as soon as you finish the hand."})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("div",{className:"text-xs uppercase tracking-wide text-lime-300",children:"Total"}),(0,t.jsx)("div",{className:"text-4xl font-black text-lime-200",children:x?x.total:"—"}),!h&&u&&(0,t.jsxs)("div",{className:"mt-1 text-xs text-slate-200",children:["Hand only (no starter):"," ",(0,t.jsxs)("span",{className:"font-semibold text-lime-100",children:[u.total," pts"]})]})]})]}),!h&&(0,t.jsx)("p",{className:"mt-3 rounded-lg border border-white/10 bg-white/5 px-3 py-2 text-sm text-slate-200",children:u?"Pick a starter to see the full breakdown. Hand-only score shown below.":"Pick 4 hand cards and 1 starter to see the breakdown."}),x&&(0,t.jsx)("div",{className:"mt-4 space-y-3",children:x.parts.map(e=>(0,t.jsxs)("div",{className:"rounded-xl border border-white/10 bg-white/5 px-3 py-3",children:[(0,t.jsxs)("div",{className:"mb-1 flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-sm font-semibold text-white",children:e.label}),(0,t.jsxs)("span",{className:"text-sm font-semibold text-lime-200",children:[e.points," pts"]})]}),(0,t.jsx)("ul",{className:"space-y-1 text-sm text-slate-200",children:e.detail.map((e,s)=>(0,t.jsxs)("li",{className:"flex gap-2",children:[(0,t.jsx)("span",{className:"mt-1 h-1.5 w-1.5 rounded-full bg-white/70"}),(0,t.jsx)("span",{children:e})]},s))})]},e.label))}),!x&&u&&(0,t.jsx)("div",{className:"mt-4 space-y-3",children:u.parts.map(e=>(0,t.jsxs)("div",{className:"rounded-xl border border-white/10 bg-white/5 px-3 py-3",children:[(0,t.jsxs)("div",{className:"mb-1 flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-sm font-semibold text-white",children:e.label}),(0,t.jsxs)("span",{className:"text-sm font-semibold text-lime-200",children:[e.points," pts"]})]}),(0,t.jsx)("ul",{className:"space-y-1 text-sm text-slate-200",children:e.detail.map((e,s)=>(0,t.jsxs)("li",{className:"flex gap-2",children:[(0,t.jsx)("span",{className:"mt-1 h-1.5 w-1.5 rounded-full bg-white/70"}),(0,t.jsx)("span",{children:e})]},s))})]},`hand-only-${e.label}`))})]}),(0,t.jsxs)("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-4 text-sm text-slate-200 shadow-lg shadow-black/40",children:[(0,t.jsx)("h3",{className:"text-base font-semibold text-white",children:"How scoring works"}),(0,t.jsxs)("ul",{className:"mt-2 space-y-1",children:[(0,t.jsx)("li",{children:"• Fifteens: every unique combo totaling 15 is worth 2."}),(0,t.jsx)("li",{children:"• Pairs: each pair scores 2 (pairs of a kind stack)."}),(0,t.jsx)("li",{children:"• Runs: longest run of 3+ in the hand; duplicates multiply runs."}),(0,t.jsx)("li",{children:"• Flush: 4 hand cards same suit = 4; starter match makes 5."}),(0,t.jsx)("li",{children:"• His Nobs: Jack in hand matching the starter suit = 1."})]})]})]})]})]})}function y({cardsBySuit:e,discardPick:s,discardNote:l,discardSelectedIds:a,handleToggleDiscardCard:i,faceStyle:n,faceStyleToggle:c,isDealer:u,includeCrib:x,onDealerChange:h,onIncludeCribChange:p,discardSuggestions:f,discardLoading:g,onStarterPick:w}){return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-4 shadow-lg shadow-slate-950/50 backdrop-blur",children:[(0,t.jsxs)("div",{className:"mb-4 flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-white",children:"Pick any 6 cards"}),(0,t.jsxs)("p",{className:"text-xs text-slate-300",children:[a.size,"/6 selected"]})]}),c]}),(0,t.jsx)("div",{className:"grid grid-cols-4 gap-1 sm:grid-cols-4 lg:grid-cols-1",children:e.map(({suit:e,cards:s})=>(0,t.jsx)("div",{children:(0,t.jsx)("div",{className:"grid grid-cols-1 gap-1 lg:grid-cols-13",children:s.map(e=>{let s=a.has(e.id);return(0,t.jsxs)("button",{onClick:()=>i(e),className:`group relative overflow-hidden rounded-xl border bg-white/90 p-1 text-left shadow-sm shadow-black/25 transition duration-150 hover:-translate-y-0.5 hover:shadow-lg hover:shadow-black/40 ${s?"border-sky-200 ring-2 ring-sky-300":"border-slate-200/70"}`,children:[(0,t.jsx)("div",{className:"relative aspect-[63/88] w-full overflow-hidden rounded-lg bg-gradient-to-br from-white to-slate-50",children:(0,t.jsx)(r.default,{src:m(e,n),alt:o(e),fill:!0,sizes:"(min-width:1024px) 90px, (min-width:640px) 16vw, 22vw",className:"object-contain drop-shadow-sm"})}),(0,t.jsx)("div",{className:"pointer-events-none absolute inset-0 rounded-xl border border-white/50"}),(0,t.jsx)("div",{className:"absolute bottom-2 left-2 flex flex-wrap gap-1 text-[10px] font-semibold text-slate-800 drop-shadow",children:s?(0,t.jsx)("span",{className:"rounded-full bg-sky-500/90 px-2 py-0.5 text-white shadow",children:"Picked"}):(0,t.jsx)("span",{className:"rounded-full bg-slate-100/90 px-2 py-0.5 text-slate-700 shadow",children:"Add"})})]},e.id)})})},e))})]}),(0,t.jsxs)("section",{className:"mt-6 space-y-6",children:[(0,t.jsxs)("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-5 shadow-lg shadow-slate-950/50 backdrop-blur",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-white",children:"Your six-card hand"}),(0,t.jsx)("p",{className:"text-sm text-slate-300",children:"Click to add, click again to remove. We will try every possible discard to find the best expected value."})]}),(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-3 sm:justify-end",children:[(0,t.jsxs)("div",{className:"flex overflow-hidden rounded-full border border-white/10 bg-white/10 text-xs font-semibold text-white",children:[(0,t.jsx)("button",{onClick:()=>h(!0),className:`px-3 py-1.5 transition ${u?"bg-white/20":"hover:bg-white/10"}`,children:"You are dealer"}),(0,t.jsx)("button",{onClick:()=>h(!1),className:`px-3 py-1.5 transition ${!u?"bg-white/20":"hover:bg-white/10"}`,children:"Opponent is dealer"})]}),(0,t.jsxs)("label",{className:"flex items-center gap-2 text-xs text-slate-200",children:[(0,t.jsx)("input",{type:"checkbox",checked:x,onChange:e=>p(e.target.checked),className:"h-4 w-4 rounded border-white/40 bg-slate-900 text-sky-400"}),"Include crib impact"]})]})]}),(0,t.jsx)("div",{className:"mt-4 grid grid-cols-3 gap-2 sm:grid-cols-6",children:Array.from({length:6}).map((e,l)=>(0,t.jsxs)("button",{type:"button",onClick:()=>s[l]&&i(s[l]),className:"rounded-xl border border-sky-300/30 bg-sky-500/10 px-2 py-2 text-center text-sm text-sky-100 shadow-inner shadow-sky-900/40 transition hover:border-sky-200/60 hover:shadow-lg hover:shadow-sky-900/40 disabled:cursor-default",disabled:!s[l],children:[(0,t.jsxs)("div",{className:"text-xs uppercase tracking-wide text-sky-200",children:["Card ",l+1]}),(0,t.jsx)("div",{className:"mt-2",children:(0,t.jsx)("div",{className:"relative aspect-[63/88] w-full overflow-hidden rounded-lg border border-sky-200/40 bg-white/90 shadow",children:s[l]?(0,t.jsx)(r.default,{src:m(s[l],n),alt:o(s[l]),fill:!0,sizes:"120px",className:"object-contain p-1",priority:!0}):(0,t.jsx)("div",{className:"flex h-full items-center justify-center text-lg font-semibold text-sky-200",children:"—"})})})]},`discard-${l}`))}),l&&(0,t.jsx)("p",{className:"mt-3 text-sm text-amber-200",children:l})]}),(0,t.jsxs)("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-5 shadow-xl shadow-black/40 backdrop-blur",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-white",children:"Discard suggestions"}),(0,t.jsxs)("p",{className:"text-sm text-slate-300",children:["We average every possible starter from the unseen cards.",x?u?" Expected value = hand average + crib average.":" Expected value = hand average - crib average.":" Crib is ignored when computing the average."]})]}),(0,t.jsx)("div",{className:"text-xs text-slate-300",children:"Crib assumption: when you are non-dealer, you avoid throwing 5s or pairs."})]}),s.length<6&&(0,t.jsx)("p",{className:"mt-3 rounded-lg border border-white/10 bg-white/5 px-3 py-2 text-sm text-slate-200",children:"Pick 6 cards to see the best discard lines."}),6===s.length&&(0,t.jsxs)("div",{className:"mt-4 space-y-4",children:[g&&(0,t.jsx)("div",{className:"rounded-xl border border-white/10 bg-white/5 p-4 text-sm text-slate-200",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"h-3 w-3 animate-pulse rounded-full bg-lime-300"}),"Calculating best discard lines..."]})}),!g&&f.map((e,s)=>(0,t.jsxs)("div",{className:"rounded-xl border border-white/10 bg-white/5 p-4 shadow-inner shadow-black/30",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("span",{className:"rounded-full bg-sky-500/20 px-3 py-1 text-xs font-semibold uppercase tracking-wide text-sky-100",children:["#",s+1]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-slate-200",children:"Keep the four below, discard the two to the crib."}),(0,t.jsx)("p",{className:"text-xs text-slate-400",children:"Best starters highlight spikes you can hope to cut."})]})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("div",{className:"text-xs uppercase tracking-wide text-lime-200",children:"Expected value"}),(0,t.jsx)("div",{className:"text-3xl font-black text-lime-100",children:e.expectedValue.toFixed(2)}),x&&(0,t.jsxs)("div",{className:"mt-1 text-[11px] text-slate-300",children:["Hand ",e.handAverage.toFixed(2)," / Crib"," ",e.cribAverage.toFixed(2)]})]})]}),(0,t.jsxs)("div",{className:"mt-3 grid gap-3 md:grid-cols-[1.2fr,0.8fr]",children:[(0,t.jsxs)("div",{className:"rounded-xl border border-white/5 bg-white/5 p-3",children:[(0,t.jsx)("div",{className:"text-xs uppercase tracking-wide text-emerald-200",children:"Keep"}),(0,t.jsx)("div",{className:"mt-2 flex flex-wrap gap-2",children:e.keep.map(e=>(0,t.jsx)("span",{className:"inline-flex items-center gap-1 rounded-full border border-emerald-200/40 bg-emerald-500/10 px-3 py-1 text-sm font-semibold text-emerald-50",children:o(e)},`keep-${e.id}`))}),(0,t.jsx)("div",{className:"mt-3 text-xs uppercase tracking-wide text-amber-200",children:"Discard to crib"}),(0,t.jsx)("div",{className:"mt-2 flex flex-wrap gap-2",children:e.discards.map(e=>(0,t.jsx)("span",{className:"inline-flex items-center gap-1 rounded-full border border-amber-200/50 bg-amber-500/10 px-3 py-1 text-sm font-semibold text-amber-50",children:o(e)},`discard-${e.id}`))})]}),(0,t.jsxs)("div",{className:"rounded-xl border border-white/5 bg-white/5 p-3 text-sm text-slate-100",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{children:"Min hand score (worst starter)"}),(0,t.jsxs)("span",{className:"font-semibold text-lime-100",children:[e.minHandScore.toFixed(0)," pts"]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{children:"Hand average"}),(0,t.jsxs)("span",{className:"font-semibold text-lime-100",children:[e.handAverage.toFixed(2)," pts"]})]}),x&&(0,t.jsxs)("div",{className:"mt-2 flex items-center justify-between",children:[(0,t.jsx)("span",{children:"Crib average"}),(0,t.jsxs)("span",{className:"font-semibold text-lime-100",children:[e.cribAverage.toFixed(2)," pts"]})]}),(0,t.jsx)("div",{className:"mt-2 text-xs text-slate-300",children:"Best starters for this keep:"}),(0,t.jsx)("div",{className:"mt-3 space-y-3",children:b(e.bestStarters).map(({cards:s,score:r})=>{let l,a=(l=new Map,s.forEach(e=>{let t=l.get(e.rank);t?t.suits.add(e.suit):l.set(e.rank,{order:e.order,suits:new Set([e.suit])})}),Array.from(l.entries()).sort((e,t)=>e[1].order-t[1].order).map(([e,{suits:t}])=>({rank:e,suitString:Array.from(t).sort((e,t)=>d[e]-d[t]).join("")})).map(({rank:e,suitString:t})=>({rank:e,suits:t.split("")}))).map(({rank:e,suits:t})=>{let r=[...t].sort((e,t)=>d[e]-d[t]),l=s.filter(t=>t.rank===e).sort((e,t)=>d[e.suit]-d[t.suit]||e.order-t.order)[0]??s[0];return{rank:e,suits:r,starterCard:l}});return(0,t.jsx)("div",{className:"flex flex-col gap-2 rounded-xl border border-sky-200/30 py-1 px-2 shadow-sm shadow-sky-900/30",children:(0,t.jsxs)("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:a.map(({rank:s,suits:l,starterCard:a})=>(0,t.jsx)("button",{type:"button",onClick:()=>a&&w(e.keep,a),className:"inline-flex items-center gap-2 rounded-full border border-sky-200/60 bg-sky-500/20 px-3 py-1 text-xs font-semibold text-sky-50 transition hover:-translate-y-[1px] hover:border-sky-100 hover:bg-sky-400/30 hover:shadow-sky-500/30",children:(0,t.jsxs)("span",{className:"inline-flex items-center gap-1 rounded-full bg-sky-500/20 px-1.5 py-0.5",children:[(0,t.jsx)("span",{className:"font-semibold",children:s}),(0,t.jsx)("span",{className:"flex items-center gap-0.5 text-[11px]",children:l.map(e=>(0,t.jsx)("span",{className:"rounded bg-sky-400/40 px-1 py-[1px]",children:e},`${s}-${e}`))})]})},`starter-${r}-${s}-${a.id}`))}),(0,t.jsx)("div",{className:"text-right",children:(0,t.jsxs)("div",{className:"text-lg font-bold text-sky-50",children:[r," pts"]})})]})},`starter-block-${r}-${s.map(e=>e.id).join("-")}`)})})]})]})]},e.keep.map(e=>e.id).join("-")))]})]})]})]})}function N({faceStyle:e,onChange:s}){return(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-2 text-xs",children:[(0,t.jsx)("span",{className:"text-slate-300",children:"Face style"}),(0,t.jsx)("div",{className:"flex overflow-hidden rounded-full border border-white/10 bg-white/10",children:["simple","original"].map(r=>(0,t.jsx)("button",{onClick:()=>s(r),className:`px-3 py-1 font-semibold transition ${e===r?"bg-white/20 text-white":"text-slate-200 hover:bg-white/10"}`,children:"simple"===r?"Simple":"Original"},r))})]})}function k(e){let s,r=(s=new Map,e.forEach(e=>{let t=s.get(e.rank);t?t.suits.add(e.suit):s.set(e.rank,{order:e.order,suits:new Set([e.suit])})}),Array.from(s.entries()).sort((e,t)=>e[1].order-t[1].order).map(([e,{suits:t}])=>({rank:e,suitString:Array.from(t).sort((e,t)=>d[e]-d[t]).join("")})).map(({rank:e,suitString:t})=>({rank:e,suits:t.split("")})));return(0,t.jsx)("span",{className:"flex flex-wrap items-center gap-1",children:r.map(({rank:e,suits:s})=>(0,t.jsxs)("span",{className:"inline-flex items-center rounded-full bg-sky-500/20 px-1.5 py-0.5",children:[(0,t.jsx)("span",{className:"font-semibold",children:e}),(0,t.jsx)("span",{className:"flex items-center text-[11px]",children:s.map(s=>(0,t.jsx)("span",{className:"rounded py-[1px]",children:s},`${e}-${s}`))})]},`${e}-${s.join("")}`))})}function S({faceStyle:e,faceStyleToggle:s,testCards:l,testNote:a,testSelectedIds:i,testIncludeCrib:d,testIsDealer:n,showBestSolution:c,bestTestSuggestion:u,userTestChoice:x,handleToggleTestDiscard:h,refreshTestHand:p,onSetTestDealer:f,onSetTestIncludeCrib:g,onToggleShowBest:w,onSendToDiscard:v,testLoading:y}){let N=x?b(x.bestStarters):[],S=u?b(u.bestStarters):[];return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-5 shadow-lg shadow-slate-950/50 backdrop-blur",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-white",children:"Test yourself"}),(0,t.jsx)("p",{className:"text-sm text-slate-300",children:"We deal 6 random cards. Pick two to throw to the crib and see how your line compares to the solver."})]}),(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-3 justify-end",children:[(0,t.jsxs)("div",{className:"flex overflow-hidden rounded-full border border-white/10 bg-white/10 text-xs font-semibold text-white",children:[(0,t.jsx)("button",{onClick:()=>f(!0),className:`px-3 py-1.5 transition ${n?"bg-white/20":"hover:bg-white/10"}`,children:"You are dealer"}),(0,t.jsx)("button",{onClick:()=>f(!1),className:`px-3 py-1.5 transition ${!n?"bg-white/20":"hover:bg-white/10"}`,children:"Opponent is dealer"})]}),(0,t.jsxs)("label",{className:"flex items-center gap-2 text-xs text-slate-200",children:[(0,t.jsx)("input",{type:"checkbox",checked:d,onChange:e=>g(e.target.checked),className:"h-4 w-4 rounded border-white/40 bg-slate-900 text-sky-400"}),"Include crib impact"]}),(0,t.jsx)("div",{className:"flex flex-wrap items-center gap-3",children:s})]})]}),(0,t.jsx)("div",{className:"mt-4 grid grid-cols-3 gap-2 sm:grid-cols-6",children:l.map(s=>{let l=i.has(s.id);return(0,t.jsxs)("button",{onClick:()=>h(s),className:`group relative overflow-hidden rounded-xl border bg-white/90 p-1 text-left shadow-sm shadow-black/25 transition duration-150 hover:-translate-y-0.5 hover:shadow-lg hover:shadow-black/40 ${l?"border-sky-200 ring-2 ring-sky-300":"border-slate-200/70"}`,children:[(0,t.jsx)("div",{className:"relative aspect-[63/88] w-full overflow-hidden rounded-lg bg-gradient-to-br from-white to-slate-50",children:(0,t.jsx)(r.default,{src:m(s,e),alt:o(s),fill:!0,sizes:"120px",className:"object-contain drop-shadow-sm"})}),(0,t.jsx)("div",{className:"pointer-events-none absolute inset-0 rounded-xl border border-white/50"}),(0,t.jsx)("div",{className:"absolute bottom-2 left-2 flex flex-wrap gap-1 text-[10px] font-semibold text-slate-800 drop-shadow",children:l?(0,t.jsx)("span",{className:"rounded-full bg-sky-500/90 px-2 py-0.5 text-white shadow",children:"Discard"}):(0,t.jsx)("span",{className:"rounded-full bg-slate-100/90 px-2 py-0.5 text-slate-700 shadow",children:"Keep"})})]},s.id)})}),a&&(0,t.jsx)("p",{className:"mt-3 text-sm text-amber-200",children:a})]}),(0,t.jsx)("button",{onClick:p,className:"inline-flex w-full items-center justify-center rounded-2xl border border-lime-200/60 bg-gradient-to-r from-lime-500/70 to-emerald-500/70 px-4 py-3 text-sm font-semibold text-white shadow-lg shadow-lime-500/30 transition hover:-translate-y-[1px] hover:shadow-emerald-500/40",children:"Next question"}),(0,t.jsx)("button",{onClick:v,disabled:6!==l.length,className:"inline-flex w-full items-center justify-center rounded-2xl border border-lime-200/60 bg-gradient-to-r from-lime-500/70 to-emerald-500/70 px-4 py-3 text-sm font-semibold text-white shadow-lg shadow-lime-500/30 transition hover:-translate-y-[1px] hover:shadow-emerald-500/40",children:"View in discard tab"}),(0,t.jsxs)("section",{className:"mt-6 grid gap-6 lg:grid-cols-2",children:[(0,t.jsxs)("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-5 shadow-xl shadow-black/40 backdrop-blur",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Your discard line"}),(0,t.jsx)("p",{className:"text-sm text-slate-300",children:"Pick exactly two discards to see the expected value."})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("div",{className:"text-xs uppercase tracking-wide text-lime-200",children:"Expected value"}),(0,t.jsx)("div",{className:"text-3xl font-black text-lime-100",children:x?x.expectedValue.toFixed(2):"—"}),x&&d&&(0,t.jsxs)("div",{className:"mt-1 text-[11px] text-slate-300",children:["Hand ",x.handAverage.toFixed(2)," / Crib"," ",x.cribAverage.toFixed(2)]})]})]}),!x&&(0,t.jsx)("p",{className:"mt-3 rounded-lg border border-white/10 bg-white/5 px-3 py-2 text-sm text-slate-200",children:"Select two cards to discard."}),y&&(0,t.jsx)("div",{className:"mt-3 rounded-lg border border-white/10 bg-white/5 px-3 py-2 text-sm text-slate-200",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"h-3 w-3 animate-pulse rounded-full bg-lime-300"}),"Calculating expected value..."]})}),x&&(0,t.jsxs)("div",{className:"mt-4 grid gap-3 md:grid-cols-[1.1fr,0.9fr]",children:[(0,t.jsxs)("div",{className:"rounded-xl border border-white/5 bg-white/5 p-3",children:[(0,t.jsx)("div",{className:"text-xs uppercase tracking-wide text-emerald-200",children:"Keep"}),(0,t.jsx)("div",{className:"mt-2 flex flex-wrap gap-2",children:j(x.keep).map(e=>(0,t.jsx)("span",{className:"inline-flex items-center gap-1 rounded-full border border-emerald-200/40 bg-emerald-500/10 px-3 py-1 text-sm font-semibold text-emerald-50",children:o(e)},`test-keep-${e.id}`))}),(0,t.jsx)("div",{className:"mt-3 text-xs uppercase tracking-wide text-amber-200",children:"Discard"}),(0,t.jsx)("div",{className:"mt-2 flex flex-wrap gap-2",children:j(x.discards).map(e=>(0,t.jsx)("span",{className:"inline-flex items-center gap-1 rounded-full border border-amber-200/50 bg-amber-500/10 px-3 py-1 text-sm font-semibold text-amber-50",children:o(e)},`test-discard-${e.id}`))})]}),(0,t.jsxs)("div",{className:"rounded-xl border border-white/5 bg-white/5 p-3 text-sm text-slate-100",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{children:"Min hand score (worst starter)"}),(0,t.jsxs)("span",{className:"font-semibold text-lime-100",children:[x.minHandScore.toFixed(0)," pts"]})]}),(0,t.jsxs)("div",{className:"mt-2 flex items-center justify-between",children:[(0,t.jsx)("span",{children:"Hand average"}),(0,t.jsxs)("span",{className:"font-semibold text-lime-100",children:[x.handAverage.toFixed(2)," pts"]})]}),d&&(0,t.jsxs)("div",{className:"mt-2 flex items-center justify-between",children:[(0,t.jsx)("span",{children:"Crib average"}),(0,t.jsxs)("span",{className:"font-semibold text-lime-100",children:[x.cribAverage.toFixed(2)," pts"]})]}),(0,t.jsx)("div",{className:"mt-2 text-xs text-slate-300",children:"Best starters for your keep:"}),(0,t.jsx)("div",{className:"mt-2 flex flex-wrap gap-2",children:N.map(({cards:e,score:s})=>(0,t.jsxs)("span",{className:"inline-flex items-center gap-2 rounded-full border border-sky-200/50 bg-sky-500/15 px-3 py-1 text-xs font-semibold text-sky-50",children:[k(e),(0,t.jsxs)("span",{className:"text-slate-200",children:[s," pts"]})]},`user-starter-group-${s}-${e.map(e=>e.id).join("-")}`))})]})]})]}),(0,t.jsxs)("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-5 shadow-xl shadow-black/40 backdrop-blur",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Best solution"}),(0,t.jsx)("p",{className:"text-sm text-slate-300",children:"Solver tries every discard; crib math matches your settings."})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("div",{className:"text-xs uppercase tracking-wide text-lime-200",children:"Expected value"}),(0,t.jsx)("div",{className:"text-3xl font-black text-lime-100",children:c&&u?u.expectedValue.toFixed(2):"—"}),c&&u&&d&&(0,t.jsxs)("div",{className:"mt-1 text-[11px] text-slate-300",children:["Hand ",u.handAverage.toFixed(2)," / Crib"," ",u.cribAverage.toFixed(2)]})]})]}),!u&&(0,t.jsx)("p",{className:"mt-3 rounded-lg border border-white/10 bg-white/5 px-3 py-2 text-sm text-slate-200",children:"Waiting for a full 6-card deal."}),u&&!c&&(0,t.jsx)("p",{className:"mt-3 rounded-lg border border-white/10 bg-white/5 px-3 py-2 text-sm text-slate-200",children:"Best line is hidden. Select two discards, then tap “Show best”."}),y&&(0,t.jsx)("div",{className:"mt-3 rounded-lg border border-white/10 bg-white/5 px-3 py-2 text-sm text-slate-200",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"h-3 w-3 animate-pulse rounded-full bg-lime-300"}),"Calculating best line..."]})}),u&&c&&(0,t.jsxs)("div",{className:"mt-4 grid gap-3 md:grid-cols-[1.1fr,0.9fr]",children:[(0,t.jsxs)("div",{className:"rounded-xl border border-white/5 bg-white/5 p-3",children:[(0,t.jsx)("div",{className:"text-xs uppercase tracking-wide text-emerald-200",children:"Keep"}),(0,t.jsx)("div",{className:"mt-2 flex flex-wrap gap-2",children:j(u.keep).map(e=>(0,t.jsx)("span",{className:"inline-flex items-center gap-1 rounded-full border border-emerald-200/40 bg-emerald-500/10 px-3 py-1 text-sm font-semibold text-emerald-50",children:o(e)},`best-keep-${e.id}`))}),(0,t.jsx)("div",{className:"mt-3 text-xs uppercase tracking-wide text-amber-200",children:"Discard"}),(0,t.jsx)("div",{className:"mt-2 flex flex-wrap gap-2",children:j(u.discards).map(e=>(0,t.jsx)("span",{className:"inline-flex items-center gap-1 rounded-full border border-amber-200/50 bg-amber-500/10 px-3 py-1 text-sm font-semibold text-amber-50",children:o(e)},`best-discard-${e.id}`))})]}),(0,t.jsxs)("div",{className:"rounded-xl border border-white/5 bg-white/5 p-3 text-sm text-slate-100",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{children:"Min hand score (worst starter)"}),(0,t.jsxs)("span",{className:"font-semibold text-lime-100",children:[u.minHandScore.toFixed(0)," pts"]})]}),(0,t.jsxs)("div",{className:"mt-2 flex items-center justify-between",children:[(0,t.jsx)("span",{children:"Hand average"}),(0,t.jsxs)("span",{className:"font-semibold text-lime-100",children:[u.handAverage.toFixed(2)," pts"]})]}),d&&(0,t.jsxs)("div",{className:"mt-2 flex items-center justify-between",children:[(0,t.jsx)("span",{children:"Crib average"}),(0,t.jsxs)("span",{className:"font-semibold text-lime-100",children:[u.cribAverage.toFixed(2)," pts"]})]}),(0,t.jsx)("div",{className:"mt-2 text-xs text-slate-300",children:"Best starters:"}),(0,t.jsx)("div",{className:"mt-2 flex flex-wrap gap-2",children:S.map(({cards:e,score:s})=>(0,t.jsxs)("span",{className:"inline-flex items-center gap-2 rounded-full border border-sky-200/50 bg-sky-500/15 px-3 py-1 text-xs font-semibold text-sky-50",children:[k(e),(0,t.jsxs)("span",{className:"text-slate-200",children:[s," pts"]})]},`best-starter-group-${s}-${e.map(e=>e.id).join("-")}`))})]})]}),x&&u&&c&&(0,t.jsxs)("div",{className:"mt-4 rounded-xl border border-lime-200/20 bg-lime-500/5 p-3 text-xs text-slate-200",children:[(0,t.jsx)("div",{className:"font-semibold text-white",children:"Comparison"}),(0,t.jsxs)("p",{className:"mt-1",children:["Your line: ",x.expectedValue.toFixed(2)," vs best:"," ",u.expectedValue.toFixed(2)," (",(u.expectedValue-x.expectedValue).toFixed(2)," ","diff)."]})]}),(0,t.jsx)("div",{className:"mt-4 flex justify-end",children:(0,t.jsx)("button",{type:"button",onClick:w,className:`rounded-full border px-3 py-1.5 text-xs font-semibold transition ${c?"border-lime-200/60 bg-lime-500/20 text-lime-50":"border-white/20 bg-white/10 text-white hover:bg-white/20"} ${!u?"cursor-not-allowed opacity-50":""}`,disabled:!u,children:c?"Hide best":"Show best"})})]})]})]})}let C="cribbage-active-tab",_="cribbage-is-dealer",$="cribbage-include-crib",P="cribbage-face-style";function E(){let[e,r]=(0,s.useState)("test"),[l,i]=(0,s.useState)([]),[d,o]=(0,s.useState)(null),[c,m]=(0,s.useState)(null),[b,k]=(0,s.useState)([]),[E,O]=(0,s.useState)(null),[R,M]=(0,s.useState)([]),[F,A]=(0,s.useState)(!1),[I,T]=(0,s.useState)(!0),[z,D]=(0,s.useState)(!0),[H,B]=(0,s.useState)([]),[q,V]=(0,s.useState)([]),[L,U]=(0,s.useState)(null),[W,Y]=(0,s.useState)(null),[K,G]=(0,s.useState)(null),[J,X]=(0,s.useState)(!1),[Q,Z]=(0,s.useState)(!1),[ee,et]=(0,s.useState)("original"),es=(0,s.useRef)(null),er=(0,s.useRef)(!1),el=(0,s.useMemo)(()=>new Set([d,...l].filter(Boolean).map(e=>e.id)),[l,d]),ea=(0,s.useMemo)(()=>new Set(q.map(e=>e.id)),[q]),ei=(0,s.useMemo)(()=>new Set(b.map(e=>e.id)),[b]),ed=(0,s.useMemo)(()=>a.map(e=>({suit:e,cards:n.filter(t=>t.suit===e)})),[]),en=(0,s.useMemo)(()=>{let e;return 4===l.length?{total:(e=[u(l),x(l),h(l),4!==l.length?{label:"Flush",points:0,detail:["Need exactly 4 hand cards to check for a flush."]}:l.every(e=>e.suit===l[0].suit)?{label:"Flush",points:4,detail:["4-card flush (no starter) = 4 pts"]}:{label:"Flush",points:0,detail:["No flush (all 4 hand cards must share a suit)."]}]).reduce((e,t)=>e+t.points,0),parts:e}:null},[l]),eo=(0,s.useMemo)(()=>4===l.length&&d?p(l,d):null,[l,d]),ec=4===l.length&&!!d;(0,s.useEffect)(()=>{ec&&!er.current&&(es.current?.scrollIntoView({behavior:"smooth",block:"start"}),er.current=!0),ec||(er.current=!1)},[ec]);let em=(0,s.useCallback)(()=>{let e=[...n];for(let t=e.length-1;t>0;t-=1){let s=Math.floor(Math.random()*(t+1));[e[t],e[s]]=[e[s],e[t]]}return e.slice(0,6)},[]),eu=(0,s.useCallback)(()=>{B(j(em())),V([]),U(null),Z(!1)},[em]),ex=(0,s.useCallback)((e,t)=>{m(null),i(j(e)),o(t),r("count")},[]);(0,s.useEffect)(()=>{let e=localStorage.getItem(C);("count"===e||"discard"===e||"test"===e)&&r(e);let t=localStorage.getItem(_);("true"===t||"false"===t)&&T("true"===t);let s=localStorage.getItem($);("true"===s||"false"===s)&&D("true"===s);let l=localStorage.getItem(P);("simple"===l||"original"===l)&&et(l)},[]),(0,s.useEffect)(()=>{localStorage.setItem(C,e)},[e]),(0,s.useEffect)(()=>{localStorage.setItem(_,String(I))},[I]),(0,s.useEffect)(()=>{localStorage.setItem($,String(z))},[z]),(0,s.useEffect)(()=>{localStorage.setItem(P,ee)},[ee]),(0,s.useEffect)(()=>{if(6!==b.length){M([]),A(!1);return}A(!0);let e=null,t=requestAnimationFrame(()=>{e=setTimeout(()=>{M(w(b,I,z)),A(!1)},0)});return()=>{cancelAnimationFrame(t),e&&clearTimeout(e)}},[b,z,I]),(0,s.useEffect)(()=>{if(6!==H.length||q.length<2){Y(null),G(null),X(!1);return}X(!0);let e=null,t=requestAnimationFrame(()=>{e=setTimeout(()=>{Y(w(H,I,z)[0]??null);let e=H.filter(e=>!q.some(t=>t.id===e.id)),t=n.filter(e=>!H.some(t=>t.id===e.id)),{average:s,best:r}=f(e,t),l=z?g(q,t,I):0,a=z?I?s+l:s-l:s,i=t.length?Math.min(...t.map(t=>p(e,t).total)):0;G({keep:e,discards:q,handAverage:s,cribAverage:l,expectedValue:a,bestStarters:r,minHandScore:i}),X(!1)},0)});return()=>{cancelAnimationFrame(t),e&&clearTimeout(e)}},[z,I,H,q]),(0,s.useEffect)(()=>{"test"===e&&0===H.length&&eu()},[e,eu,H.length]);let eh=(0,t.jsx)(N,{faceStyle:ee,onChange:et});return(0,t.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-slate-950 via-slate-900 to-slate-950 text-slate-50",children:(0,t.jsxs)("div",{className:"mx-auto max-w-6xl px-6 py-10 space-y-6",children:[(0,t.jsxs)("header",{className:"flex flex-col gap-3 border-b border-white/10 pb-6 sm:flex-row sm:items-end sm:justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm uppercase tracking-[0.3em] text-slate-400",children:"Cribbage helper"}),(0,t.jsx)("h1",{className:"text-4xl font-bold text-white sm:text-5xl",children:"Play faster, score smarter"}),(0,t.jsx)("p",{className:"mt-2 max-w-3xl text-sm text-slate-300",children:"Flip between counting a finished hand or plotting the best discard. Every result shows the math so you can trust the suggestion."})]}),(0,t.jsxs)("div",{className:"flex flex-col items-start gap-3 sm:items-end",children:[(0,t.jsxs)("div",{className:"flex overflow-hidden rounded-full border border-white/15 bg-white/10 text-xs font-semibold text-white shadow-lg shadow-slate-950/30",children:[(0,t.jsx)("button",{onClick:()=>r("count"),className:`px-3 py-2 transition ${"count"===e?"bg-white/20":"hover:bg-white/10"}`,children:"Count a hand"}),(0,t.jsx)("button",{onClick:()=>r("discard"),className:`px-3 py-2 transition ${"discard"===e?"bg-white/20":"hover:bg-white/10"}`,children:"Discard to crib"}),(0,t.jsx)("button",{onClick:()=>{r("test"),H.length||eu()},className:`px-3 py-2 transition ${"test"===e?"bg-white/20":"hover:bg-white/10"}`,children:"Test yourself"})]}),(0,t.jsx)("button",{onClick:"count"===e?()=>{i([]),o(null),m(null)}:"discard"===e?()=>{k([]),O(null),A(!1)}:eu,className:"inline-flex items-center justify-center rounded-full border border-white/15 bg-white/10 px-4 py-2 text-sm font-semibold text-white shadow-lg shadow-slate-950/30 transition hover:-translate-y-[1px] hover:bg-white/20 hover:shadow-slate-900/50",children:"Reset selection"})]})]}),"count"===e&&(0,t.jsx)(v,{cardsBySuit:ed,hand:l,starter:d,note:c,faceStyle:ee,faceStyleToggle:eh,selectedIds:el,handleToggleCountCard:e=>{if(m(null),el.has(e.id)){i(t=>t.filter(t=>t.id!==e.id)),o(t=>t?.id===e.id?null:t);return}l.length<4?i(t=>[...t,e]):d?m("You already picked 4 hand cards and a starter. Remove one to change."):o(e)},handOnlyBreakdown:en,breakdown:eo,slotsFilled:ec,picksRef:es}),"discard"===e&&(0,t.jsx)(y,{cardsBySuit:ed,discardPick:b,discardNote:E,discardSelectedIds:ei,handleToggleDiscardCard:e=>{(O(null),ei.has(e.id))?k(t=>{let s=t.filter(t=>t.id!==e.id);return A(!1),s}):b.length<6?k(t=>{let s=[...t,e];return 6===s.length&&A(!0),s}):O("You already picked 6 cards. Remove one to change the set.")},faceStyle:ee,faceStyleToggle:eh,isDealer:I,includeCrib:z,onDealerChange:T,onIncludeCribChange:D,discardSuggestions:R,discardLoading:F,onStarterPick:ex}),"test"===e&&(0,t.jsx)(S,{faceStyle:ee,faceStyleToggle:eh,testCards:H,testDiscards:q,testNote:L,testSelectedIds:ea,testIncludeCrib:z,testIsDealer:I,showBestSolution:Q,bestTestSuggestion:W,userTestChoice:K,handleToggleTestDiscard:e=>{if(U(null),q.some(t=>t.id===e.id)){let t=q.filter(t=>t.id!==e.id);V(t),2!==t.length&&Z(!1);return}if(q.length<2){let t=[...q,e];V(t),2===t.length?(X(!0),Z(!0)):Z(!1);return}U("You already picked 2 discards. Tap again to deselect.")},refreshTestHand:eu,onSetTestDealer:T,onSetTestIncludeCrib:D,onToggleShowBest:()=>W&&Z(e=>!e),onSendToDiscard:()=>{6===H.length&&(k(j(H)),O(null),A(!0),r("discard"))},testLoading:J})]})})}e.s(["default",()=>E],52683)}]);